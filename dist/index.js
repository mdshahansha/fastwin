/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./config/mongoose.js":
/*!****************************!*\
  !*** ./config/mongoose.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectUsingMongoose: () => (/* binding */ connectUsingMongoose)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar url = \"mongodb://localhost:27017\";\nvar connectUsingMongoose = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(\"mongodb+srv://game:game@cluster0.iwsjmm9.mongodb.net/fastwin\");\n        case 3:\n          console.log(\"MongoDB connected using mongoose....\");\n          _context.next = 9;\n          break;\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 6]]);\n  }));\n  return function connectUsingMongoose() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./config/mongoose.js?");

/***/ }),

/***/ "./controllers/GameController.js":
/*!***************************************!*\
  !*** ./controllers/GameController.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   everyoneOrderHeadTail: () => (/* binding */ everyoneOrderHeadTail),\n/* harmony export */   flipCoin: () => (/* binding */ flipCoin),\n/* harmony export */   headTailRule: () => (/* binding */ headTailRule),\n/* harmony export */   myOrderHeadTail: () => (/* binding */ myOrderHeadTail)\n/* harmony export */ });\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar coinArray = [];\nfor (var i = 0; i < 2800; i++) {\n  coinArray.push(i % 2 === 0 ? 'head' : 'tail');\n}\nvar flipCoin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, user, _req$body, guess, wallet, randomIndex, result, message, updatedMoney, delivery, tax, currentDate, year, month, day, hour, minute, periodNumber, game, response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // Get the user's ID from the request\n          userId = req.userID; // Find the user by userID\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context.sent;\n          if (user) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Get the user's guess and wallet from the request body\n          _req$body = req.body, guess = _req$body.guess, wallet = _req$body.wallet; // Validate wallet value\n          if (!isNaN(wallet)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid wallet value'\n          }));\n        case 10:\n          if (!(user.wallet < 10 || user.wallet < wallet)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Insufficient funds'\n          }));\n        case 12:\n          // Generate a random index to pick a value from the coinArray\n          randomIndex = Math.floor(Math.random() * 2800);\n          result = coinArray[randomIndex];\n          user.wallet -= wallet;\n\n          // Calculate the result message\n          updatedMoney = wallet + wallet * 0.02;\n          delivery = wallet;\n          delivery = wallet + wallet - wallet * 2 * 0.02;\n          if (guess === result) {\n            // If match, update user's wallet\n            tax = 0.06 * updatedMoney;\n            updatedMoney = updatedMoney + updatedMoney - 2 * tax;\n            user.wallet += updatedMoney;\n            message = 'win';\n          } else {\n            // If not match, user loses\n            message = 'lost';\n            // user.wallet -= updatedMoney;\n          }\n\n          // Construct the period number\n          currentDate = new Date();\n          year = currentDate.getFullYear();\n          month = String(currentDate.getMonth() + 1).padStart(2, '0');\n          day = String(currentDate.getDate()).padStart(2, '0');\n          hour = String(currentDate.getHours()).padStart(2, '0');\n          minute = String(currentDate.getMinutes()).padStart(2, '0');\n          periodNumber = \"\".concat(year).concat(month).concat(day).concat(hour).concat(minute); // Save the game record\n          game = new _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_defineProperty({\n            user: userId,\n            periodNumber: periodNumber,\n            userGuess: guess,\n            money: wallet,\n            result: result,\n            message: message,\n            updatedMoney: updatedMoney,\n            delivery: delivery,\n            gameType: \"headTail\"\n          }, \"message\", message));\n          _context.next = 29;\n          return game.save();\n        case 29:\n          // Update user's wallet balance\n          user.games.push(game._id);\n          _context.next = 32;\n          return user.save();\n        case 32:\n          // Construct the response object\n          response = {\n            periodNumber: periodNumber,\n            userGuess: guess,\n            money: wallet,\n            result: result,\n            message: message,\n            updatedMoney: updatedMoney,\n            gameType: \"headTail\"\n          }; // Send the response\n          // res.json(response);\n          setTimeout(function () {\n            res.json(response);\n          }, 15000); // 15 seconds delay\n          _context.next = 40;\n          break;\n        case 36:\n          _context.prev = 36;\n          _context.t0 = _context[\"catch\"](0);\n          // Handle errors\n          console.error(_context.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 40:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 36]]);\n  }));\n  return function flipCoin(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar headTailRule = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var statement;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          try {\n            statement = {\n              \"statement\": \"15 seconds 1 issue, 12 seconds to order, 3 seconds to show the lottery result. It opens all day. The total number of trade is 2880 issues. If you spend 100 rupees to trade, after deducting 6 rupees service fee, your contract amount is 94 rupees:\",\n              \"points\": [{\n                \"description\": \"JOIN HEAD: if the result shows Head, you will get (94*2) 188 rupees.\"\n              }, {\n                \"description\": \"JOIN TAIL: if the result shows Tail, you will get (94*2) 188 rupees.\"\n              }],\n              \"options\": [{\n                \"Select\": \"Join Head\",\n                \"Result\": \"Head\",\n                \"Multiplier\": 2\n              }, {\n                \"Select\": \"Join Tail\",\n                \"Result\": \"Tail\",\n                \"Multiplier\": 2\n              }]\n            };\n            res.json(statement);\n          } catch (error) {\n            console.error(error);\n            res.status(500).json({\n              message: 'Internal server error'\n            });\n          }\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function headTailRule(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar myOrderHeadTail = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var userId, gameRecords, formattedRecords;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          userId = req.userID;\n          _context3.prev = 1;\n          _context3.next = 4;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            user: userId,\n            gameType: 'headTail'\n          });\n        case 4:\n          gameRecords = _context3.sent;\n          // Extract the required fields from each game record\n          formattedRecords = gameRecords.map(function (record) {\n            return {\n              PeriodNumber: record.periodNumber,\n              Select: record.userGuess,\n              money: record.money,\n              result: record.result,\n              Amount: record.updatedMoney\n            };\n          }); // Return the formatted records in JSON format\n          return _context3.abrupt(\"return\", res.status(200).json(formattedRecords));\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](1);\n          console.error('Error:', _context3.t0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 9]]);\n  }));\n  return function myOrderHeadTail(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar everyoneOrderHeadTail = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var gameRecords, formattedRecords;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            gameType: 'headTail'\n          });\n        case 3:\n          gameRecords = _context4.sent;\n          // Extract the required fields from each game record\n          formattedRecords = gameRecords.map(function (record) {\n            return {\n              PeriodNumber: record.periodNumber,\n              Select: record.userGuess,\n              money: record.money,\n              result: record.result,\n              Amount: record.updatedMoney\n            };\n          }); // Return the formatted records in JSON format\n          return _context4.abrupt(\"return\", res.status(200).json(formattedRecords));\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error('Error:', _context4.t0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 8]]);\n  }));\n  return function everyoneOrderHeadTail(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n// HOME\n\n// 5 home rewardwin\n// 6 home checkin   \n// 7 refresh wallet\n\n//# sourceURL=webpack://2_game/./controllers/GameController.js?");

/***/ }),

/***/ "./controllers/GameSpinController.js":
/*!*******************************************!*\
  !*** ./controllers/GameSpinController.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   everyoneOrderSpin: () => (/* binding */ everyoneOrderSpin),\n/* harmony export */   myOrderSpin: () => (/* binding */ myOrderSpin),\n/* harmony export */   playCircleGame: () => (/* binding */ playCircleGame),\n/* harmony export */   spinRule: () => (/* binding */ spinRule)\n/* harmony export */ });\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar grids = [];\nfor (var i = 0; i < 54; i++) {\n  var color = void 0,\n    animal = void 0;\n  if (i % 2 === 0) {\n    color = 'green';\n    animal = 'lion';\n  } else if (i % 3 === 0) {\n    color = 'yellow';\n    animal = 'camel';\n  } else if (i % 5 === 0) {\n    color = 'green';\n    animal = 'elephant';\n  } else {\n    color = 'yellow';\n    animal = 'camel';\n  }\n  grids.push({\n    color: color,\n    animal: animal,\n    number: i + 1\n  });\n}\ngrids[23].color = 'red';\ngrids[23].animal = 'crown';\nvar playCircleGame = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, _color, _animal, amount, userId, user, selectedGrid, message, amountWon, currentDate, year, month, day, hour, minute, periodNumber, ResultSelectedGrid, delivery, game, result, response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // Extract color and animal from the request body\n          _req$body = req.body, _color = _req$body.color, _animal = _req$body.animal, amount = _req$body.amount;\n          userId = req.userID; // Find the user by userID\n          _context.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 5:\n          user = _context.sent;\n          if (user) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 8:\n          if (!isNaN(amount)) {\n            _context.next = 10;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid wallet value'\n          }));\n        case 10:\n          if (!(user.wallet < 10 || user.wallet < amount)) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'Insufficient funds'\n          }));\n        case 12:\n          selectedGrid = grids[Math.floor(Math.random() * grids.length)];\n          amountWon = amount;\n          user.wallet -= amountWon; //updated user wallet\n\n          // Check if the selected grid matches the user's choice\n          if (selectedGrid.color === _color && selectedGrid.animal === _animal) {\n            amountWon -= amountWon * 0.06;\n            // Double the amount if color is yellow or green\n            if (_color === 'yellow' || _color === 'green') {\n              amountWon *= 2;\n            }\n            // Check if the color is red and the animal is crown\n            if (_color === 'red' && _animal === 'crown') {\n              // Multiply the amount by 18 if the conditions are met\n              amountWon *= 18;\n            }\n            user.wallet += amountWon;\n            message = 'win';\n            // Return the result with the updated amount\n            //   return res.status(200).json({ result: 'win', amount:amountWon, Result: selectedGrid.color, Select:color});\n          } else {\n            amountWon -= amountWon * 0.06;\n            amountWon = amountWon * -1;\n            message = 'lost';\n          }\n\n          //generate Period number\n          currentDate = new Date();\n          year = currentDate.getFullYear();\n          month = String(currentDate.getMonth() + 1).padStart(2, '0');\n          day = String(currentDate.getDate()).padStart(2, '0');\n          hour = String(currentDate.getHours()).padStart(2, '0');\n          minute = String(currentDate.getMinutes()).padStart(2, '0');\n          periodNumber = \"\".concat(year).concat(month).concat(day).concat(hour).concat(minute);\n          ResultSelectedGrid = \"\";\n          ResultSelectedGrid += selectedGrid.color;\n          ResultSelectedGrid += \" \";\n          ResultSelectedGrid += selectedGrid.animal;\n          ResultSelectedGrid += \" \";\n          ResultSelectedGrid += selectedGrid.number;\n\n          // console.log(\"ResultSelectedGrid\",ResultSelectedGrid);\n          delivery = amount;\n          delivery = amount + amount - 2 * 0.06;\n          // Save the game record\n          game = new _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_defineProperty({\n            user: userId,\n            periodNumber: periodNumber,\n            userGuess: _color + \" \" + _animal,\n            money: amount,\n            result: ResultSelectedGrid,\n            message: message,\n            updatedMoney: amountWon,\n            delivery: delivery,\n            gameType: \"Spin\"\n          }, \"message\", message));\n          _context.next = 34;\n          return game.save();\n        case 34:\n          // Update user's wallet balance\n          user.games.push(game._id);\n          _context.next = 37;\n          return user.save();\n        case 37:\n          result = {};\n          result.color = selectedGrid.color;\n          result.animal = selectedGrid.animal;\n          // result.selectedGrid({})\n          response = {\n            periodNumber: periodNumber,\n            select: _color,\n            Point: amount,\n            result: result,\n            message: message,\n            Amount: amountWon,\n            gameType: \"Spin\"\n          };\n          setTimeout(function () {\n            res.json(response);\n          }, 15000); // 15 seconds delay\n          _context.next = 48;\n          break;\n        case 44:\n          _context.prev = 44;\n          _context.t0 = _context[\"catch\"](0);\n          // If an error occurs, return a 500 Internal Server Error response\n          console.error('Error:', _context.t0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 48:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 44]]);\n  }));\n  return function playCircleGame(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar myOrderSpin = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, gameRecords, formattedRecords;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.userID;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            user: userId,\n            gameType: 'Spin'\n          });\n        case 4:\n          gameRecords = _context2.sent;\n          // Extract the required fields from each game record\n          formattedRecords = gameRecords.map(function (record) {\n            return {\n              PeriodNumber: record.periodNumber,\n              Select: record.userGuess,\n              money: record.money,\n              result: record.result,\n              Amount: record.updatedMoney\n            };\n          }); // Return the formatted records in JSON format\n          return _context2.abrupt(\"return\", res.status(200).json(formattedRecords));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.error('Error:', _context2.t0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return function myOrderSpin(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar everyoneOrderSpin = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var gameRecords, formattedRecords;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            gameType: 'Spin'\n          });\n        case 3:\n          gameRecords = _context3.sent;\n          // Extract the required fields from each game record\n          formattedRecords = gameRecords.map(function (record) {\n            return {\n              PeriodNumber: record.periodNumber,\n              Select: record.userGuess,\n              money: record.money,\n              result: record.result,\n              Amount: record.updatedMoney\n            };\n          }); // Return the formatted records in JSON format\n          return _context3.abrupt(\"return\", res.status(200).json(formattedRecords));\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error('Error:', _context3.t0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n  return function everyoneOrderSpin(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar spinRule = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var gameInstructions;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          // Define the game instructions\n          gameInstructions = {\n            gameName: 'The Circle Game',\n            description: 'The Circle game is played every 15 seconds. One of the 54 grids is randomly selected in each draw. The 58 squares correspond to 3 colors (yellow, red, green), three animals (lion, elephant, camel), and one crown. If you choose the right one, you will win the prize.',\n            odds: {\n              yellowGreen: '2X',\n              redCrown: '18X'\n            },\n            rule: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.  \",\n            amountCalculation: 'If you spend Rs.100 to trade, after deducting 6 rupees service fee, your amount is 94 rupees. For a winning bet:',\n            calculationExample: '(94 * 18) = 1692 rupees'\n          }; // Return the game instructions in JSON format\n          return _context4.abrupt(\"return\", res.status(200).json(gameInstructions));\n        case 5:\n          _context4.prev = 5;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error('Error:', _context4.t0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 5]]);\n  }));\n  return function spinRule(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/GameSpinController.js?");

/***/ }),

/***/ "./controllers/HomeController.js":
/*!***************************************!*\
  !*** ./controllers/HomeController.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDailyLoginStreak: () => (/* binding */ checkDailyLoginStreak),\n/* harmony export */   firstInviteReward: () => (/* binding */ firstInviteReward),\n/* harmony export */   firstRechargeReward: () => (/* binding */ firstRechargeReward),\n/* harmony export */   order10000InviteReward: () => (/* binding */ order10000InviteReward),\n/* harmony export */   order1000InviteReward: () => (/* binding */ order1000InviteReward),\n/* harmony export */   order100InviteReward: () => (/* binding */ order100InviteReward),\n/* harmony export */   order2000InviteReward: () => (/* binding */ order2000InviteReward),\n/* harmony export */   order20InviteReward: () => (/* binding */ order20InviteReward),\n/* harmony export */   order3000InviteReward: () => (/* binding */ order3000InviteReward),\n/* harmony export */   order5000InviteReward: () => (/* binding */ order5000InviteReward),\n/* harmony export */   order500InviteReward: () => (/* binding */ order500InviteReward),\n/* harmony export */   order50InviteReward: () => (/* binding */ order50InviteReward),\n/* harmony export */   updateWallet: () => (/* binding */ updateWallet),\n/* harmony export */   walletUserID: () => (/* binding */ walletUserID),\n/* harmony export */   welcomeReward: () => (/* binding */ welcomeReward)\n/* harmony export */ });\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/refferal.js */ \"./models/refferal.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n// Function to check if a user has logged in every day continuously ,if not i will return last few day when user login\nvar checkDailyLoginStreak = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userID, _user, today, streaks, last7Days, continuousDays, i, currentDate, _last7Days;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userID = req.userID;\n          _context.prev = 1;\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userID);\n        case 4:\n          _user = _context.sent;\n          if (_user) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: 'User not found'\n          }));\n        case 7:\n          // Get today's date\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Check the daily streaks\n          streaks = _user.dailyStreaks; // Check if the streaks array is empty or if the last streak is not from yesterday\n          if (!(!streaks.length || streaks[streaks.length - 1].date.getTime() < today.getTime())) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: false,\n            message: 'User did not log in yesterday'\n          }));\n        case 12:\n          if (!(streaks.length < 7)) {\n            _context.next = 15;\n            break;\n          }\n          // User has not logged in for 7 consecutive days yet\n          last7Days = streaks.map(function (streak) {\n            return streak.date;\n          });\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: false,\n            message: 'User has not logged in for 7 consecutive days yet',\n            last7Days: last7Days\n          }));\n        case 15:\n          // Check if the streaks for the last 7 days are continuous\n          continuousDays = [];\n          i = streaks.length - 1;\n        case 17:\n          if (!(i >= streaks.length - 7)) {\n            _context.next = 27;\n            break;\n          }\n          currentDate = new Date(today);\n          currentDate.setDate(currentDate.getDate() - (streaks.length - i - 1));\n          if (!(streaks[i].date.getTime() !== currentDate.getTime())) {\n            _context.next = 23;\n            break;\n          }\n          // Streak is not continuous\n          _last7Days = streaks.slice(i, i + 7).map(function (streak) {\n            return streak.date;\n          });\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: false,\n            message: 'User has not logged in continuously for 7 days',\n            last7Days: _last7Days\n          }));\n        case 23:\n          continuousDays.push(streaks[i].date);\n        case 24:\n          i--;\n          _context.next = 17;\n          break;\n        case 27:\n          return _context.abrupt(\"return\", res.status(200).json({\n            success: true,\n            message: 'User has logged in continuously for 7 days',\n            continuousDays: continuousDays\n          }));\n        case 30:\n          _context.prev = 30;\n          _context.t0 = _context[\"catch\"](1);\n          console.error('Error:', _context.t0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: 'Internal Server Error'\n          }));\n        case 34:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 30]]);\n  }));\n  return function checkDailyLoginStreak(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar firstRechargeReward = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, successfulTransactions;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.userID;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return Transaction.findOne({\n            user: userId,\n            status: 'successful'\n          });\n        case 4:\n          successfulTransactions = _context2.sent;\n          if (!successfulTransactions) {\n            _context2.next = 10;\n            break;\n          }\n          // User has completed at least one successful recharge\n          user.wallet += 20;\n          // Implement your logic to reward the user for their first recharge\n          return _context2.abrupt(\"return\", res.json({\n            success: true,\n            message: \"Congratulations! You have completed at least one successful recharge.\",\n            Reward: 20\n          }));\n        case 10:\n          return _context2.abrupt(\"return\", res.json({\n            success: true,\n            message: \"You haven't completed any successful recharge yet.\"\n          }));\n        case 11:\n          _context2.next = 17;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.error(\"Error:\", _context2.t0);\n          // Send an error response to the client\n          return _context2.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: \"Internal Server Error\"\n          }));\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 13]]);\n  }));\n  return function firstRechargeReward(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//REWARDS\nvar welcomeReward = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var userId, _user2, wallet;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          userId = req.userID;\n          _context3.prev = 1;\n          _context3.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user2 = _context3.sent;\n          if (_user2) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _user2.wallet += 20;\n          _context3.next = 10;\n          return _user2.save();\n        case 10:\n          wallet = _user2.wallet; // Return the number of referees and the wallet amount added\n          return _context3.abrupt(\"return\", res.status(200).json({\n            wallet: wallet\n          }));\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3[\"catch\"](1);\n          console.error('Error:', _context3.t0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[1, 14]]);\n  }));\n  return function welcomeReward(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar firstInviteReward = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var userId, _user3, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          userId = req.userID;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user3 = _context4.sent;\n          if (_user3) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context4.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context4.sent;\n          if (referral) {\n            _context4.next = 12;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length; // Update the user's wallet\n          if (numberOfReferees) _user3.wallet += 20;\n          walletAmount = _user3.wallet;\n          _context4.next = 17;\n          return _user3.save();\n        case 17:\n          return _context4.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount\n          }));\n        case 20:\n          _context4.prev = 20;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.error('Error:', _context4.t0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 24:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 20]]);\n  }));\n  return function firstInviteReward(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar order20InviteReward = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var userId, _user4, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.userID;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user4 = _context5.sent;\n          if (_user4) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context5.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context5.sent;\n          if (referral) {\n            _context5.next = 12;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 20)) {\n            _context5.next = 23;\n            break;\n          }\n          _user4.wallet += 40;\n          walletAmount = _user4.wallet;\n          walletAmount = _user4.wallet;\n          _context5.next = 20;\n          return _user4.save();\n        case 20:\n          return _context5.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context5.next = 30;\n          break;\n        case 26:\n          _context5.prev = 26;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.error('Error:', _context5.t0);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 26]]);\n  }));\n  return function order20InviteReward(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar order50InviteReward = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var userId, _user5, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userId = req.userID;\n          _context6.prev = 1;\n          _context6.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user5 = _context6.sent;\n          if (_user5) {\n            _context6.next = 7;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context6.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context6.sent;\n          if (referral) {\n            _context6.next = 12;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 50)) {\n            _context6.next = 23;\n            break;\n          }\n          _user5.wallet += 100;\n          walletAmount = _user5.wallet;\n          walletAmount = _user5.wallet;\n          _context6.next = 20;\n          return _user5.save();\n        case 20:\n          return _context6.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context6.next = 30;\n          break;\n        case 26:\n          _context6.prev = 26;\n          _context6.t0 = _context6[\"catch\"](1);\n          console.error('Error:', _context6.t0);\n          return _context6.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 26]]);\n  }));\n  return function order50InviteReward(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar order100InviteReward = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var userId, _user6, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userId = req.userID;\n          _context7.prev = 1;\n          _context7.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user6 = _context7.sent;\n          if (_user6) {\n            _context7.next = 7;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context7.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context7.sent;\n          if (referral) {\n            _context7.next = 12;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 100)) {\n            _context7.next = 23;\n            break;\n          }\n          _user6.wallet += 1000;\n          walletAmount = _user6.wallet;\n          walletAmount = _user6.wallet;\n          _context7.next = 20;\n          return _user6.save();\n        case 20:\n          return _context7.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context7.next = 30;\n          break;\n        case 26:\n          _context7.prev = 26;\n          _context7.t0 = _context7[\"catch\"](1);\n          console.error('Error:', _context7.t0);\n          return _context7.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 26]]);\n  }));\n  return function order100InviteReward(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar order500InviteReward = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var userId, _user7, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          userId = req.userID;\n          _context8.prev = 1;\n          _context8.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user7 = _context8.sent;\n          if (_user7) {\n            _context8.next = 7;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context8.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context8.sent;\n          if (referral) {\n            _context8.next = 12;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 500)) {\n            _context8.next = 23;\n            break;\n          }\n          _user7.wallet += 1000;\n          walletAmount = _user7.wallet;\n          walletAmount = _user7.wallet;\n          _context8.next = 20;\n          return _user7.save();\n        case 20:\n          return _context8.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context8.next = 30;\n          break;\n        case 26:\n          _context8.prev = 26;\n          _context8.t0 = _context8[\"catch\"](1);\n          console.error('Error:', _context8.t0);\n          return _context8.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[1, 26]]);\n  }));\n  return function order500InviteReward(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar order1000InviteReward = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var userId, _user8, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          userId = req.userID;\n          _context9.prev = 1;\n          _context9.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user8 = _context9.sent;\n          if (_user8) {\n            _context9.next = 7;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context9.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context9.sent;\n          if (referral) {\n            _context9.next = 12;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 1000)) {\n            _context9.next = 23;\n            break;\n          }\n          _user8.wallet += 2000;\n          walletAmount = _user8.wallet;\n          walletAmount = _user8.wallet;\n          _context9.next = 20;\n          return _user8.save();\n        case 20:\n          return _context9.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context9.next = 30;\n          break;\n        case 26:\n          _context9.prev = 26;\n          _context9.t0 = _context9[\"catch\"](1);\n          console.error('Error:', _context9.t0);\n          return _context9.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[1, 26]]);\n  }));\n  return function order1000InviteReward(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar order2000InviteReward = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var userId, _user9, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          userId = req.userID;\n          _context10.prev = 1;\n          _context10.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user9 = _context10.sent;\n          if (_user9) {\n            _context10.next = 7;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context10.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context10.sent;\n          if (referral) {\n            _context10.next = 12;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 2000)) {\n            _context10.next = 23;\n            break;\n          }\n          _user9.wallet += 4000;\n          walletAmount = _user9.wallet;\n          walletAmount = _user9.wallet;\n          _context10.next = 20;\n          return _user9.save();\n        case 20:\n          return _context10.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context10.next = 30;\n          break;\n        case 26:\n          _context10.prev = 26;\n          _context10.t0 = _context10[\"catch\"](1);\n          console.error('Error:', _context10.t0);\n          return _context10.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[1, 26]]);\n  }));\n  return function order2000InviteReward(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar order3000InviteReward = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var userId, _user10, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          userId = req.userID;\n          _context11.prev = 1;\n          _context11.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user10 = _context11.sent;\n          if (_user10) {\n            _context11.next = 7;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context11.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context11.sent;\n          if (referral) {\n            _context11.next = 12;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 3000)) {\n            _context11.next = 23;\n            break;\n          }\n          _user10.wallet += 6000;\n          walletAmount = _user10.wallet;\n          walletAmount = _user10.wallet;\n          _context11.next = 20;\n          return _user10.save();\n        case 20:\n          return _context11.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 23:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 24:\n          _context11.next = 30;\n          break;\n        case 26:\n          _context11.prev = 26;\n          _context11.t0 = _context11[\"catch\"](1);\n          console.error('Error:', _context11.t0);\n          return _context11.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 30:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[1, 26]]);\n  }));\n  return function order3000InviteReward(_x21, _x22) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar order5000InviteReward = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var userId, _user11, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          userId = req.userID;\n          _context12.prev = 1;\n          _context12.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user11 = _context12.sent;\n          if (_user11) {\n            _context12.next = 7;\n            break;\n          }\n          return _context12.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context12.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context12.sent;\n          if (referral) {\n            _context12.next = 12;\n            break;\n          }\n          return _context12.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 5000)) {\n            _context12.next = 22;\n            break;\n          }\n          _user11.wallet += 10000;\n          walletAmount = _user11.wallet;\n          _context12.next = 19;\n          return _user11.save();\n        case 19:\n          return _context12.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 22:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 23:\n          _context12.next = 29;\n          break;\n        case 25:\n          _context12.prev = 25;\n          _context12.t0 = _context12[\"catch\"](1);\n          console.error('Error:', _context12.t0);\n          return _context12.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 29:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[1, 25]]);\n  }));\n  return function order5000InviteReward(_x23, _x24) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar order10000InviteReward = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res) {\n    var userId, _user12, referral, numberOfReferees, walletAmount;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          userId = req.userID;\n          _context13.prev = 1;\n          _context13.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user12 = _context13.sent;\n          if (_user12) {\n            _context13.next = 7;\n            break;\n          }\n          return _context13.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          _context13.next = 9;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 9:\n          referral = _context13.sent;\n          if (referral) {\n            _context13.next = 12;\n            break;\n          }\n          return _context13.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer not found'\n          }));\n        case 12:\n          // Count the number of referees\n          numberOfReferees = referral.referee.length;\n          walletAmount = 0; // Update the user's wallet\n          if (!(numberOfReferees >= 10000)) {\n            _context13.next = 22;\n            break;\n          }\n          _user12.wallet += 25000;\n          walletAmount = _user12.wallet;\n          _context13.next = 19;\n          return _user12.save();\n        case 19:\n          return _context13.abrupt(\"return\", res.status(200).json({\n            numberOfReferees: numberOfReferees,\n            walletAmount: walletAmount,\n            message: \"Congratulation you claim this REward \"\n          }));\n        case 22:\n          res.status(200).json({\n            message: \"you are not eligilble for this    claim   reward,! try some later   \"\n          });\n        case 23:\n          _context13.next = 29;\n          break;\n        case 25:\n          _context13.prev = 25;\n          _context13.t0 = _context13[\"catch\"](1);\n          console.error('Error:', _context13.t0);\n          return _context13.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 29:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[1, 25]]);\n  }));\n  return function order10000InviteReward(_x25, _x26) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar walletUserID = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res) {\n    var userId, _user13, last8Digits;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          userId = req.userID;\n          _context14.prev = 1;\n          _context14.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user13 = _context14.sent;\n          if (_user13) {\n            _context14.next = 7;\n            break;\n          }\n          return _context14.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Extract the last 8 digits of the user ID\n          last8Digits = userId.slice(-8); // Send the wallet amount and last 8 digits of user ID in the response\n          res.json({\n            Wallet: _user13.wallet,\n            UserIDLast8Digits: last8Digits\n          });\n          _context14.next = 15;\n          break;\n        case 11:\n          _context14.prev = 11;\n          _context14.t0 = _context14[\"catch\"](1);\n          // Handle errors and return a 500 Internal Server Error response\n          console.error('Error:', _context14.t0);\n          res.status(500).json({\n            error: 'Internal Server Error'\n          });\n        case 15:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[1, 11]]);\n  }));\n  return function walletUserID(_x27, _x28) {\n    return _ref14.apply(this, arguments);\n  };\n}();\nvar updateWallet = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res) {\n    var userId, _user14;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          userId = req.userID;\n          _context15.prev = 1;\n          _context15.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          _user14 = _context15.sent;\n          if (_user14) {\n            _context15.next = 7;\n            break;\n          }\n          return _context15.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Send the wallet amount and last 8 digits of user ID in the response\n          res.json({\n            UpdateWallet: _user14.wallet\n          });\n          _context15.next = 14;\n          break;\n        case 10:\n          _context15.prev = 10;\n          _context15.t0 = _context15[\"catch\"](1);\n          // Handle errors and return a 500 Internal Server Error response\n          console.error('Error:', _context15.t0);\n          res.status(500).json({\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[1, 10]]);\n  }));\n  return function updateWallet(_x29, _x30) {\n    return _ref15.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/HomeController.js?");

/***/ }),

/***/ "./controllers/adminController/adminProfile.js":
/*!*****************************************************!*\
  !*** ./controllers/adminController/adminProfile.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminUpdate: () => (/* binding */ adminUpdate),\n/* harmony export */   getAdminProfileById: () => (/* binding */ getAdminProfileById)\n/* harmony export */ });\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n // Import the User model\n\nvar getAdminProfileById = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, adminProfile;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // Extract the user ID from the request parameters\n          userId = req.userID; // Find the user by ID\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            _id: userId,\n            isAdmin: true\n          });\n        case 4:\n          adminProfile = _context.sent;\n          if (adminProfile) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Admin profile not found'\n          }));\n        case 7:\n          // Respond with the admin profile data\n          res.status(200).json({\n            success: true,\n            adminProfile: adminProfile\n          });\n          _context.next = 14;\n          break;\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error fetching admin profile:\", _context.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return function getAdminProfileById(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar adminUpdate = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var id, _req$body, name, email, phoneNumber, password, lastLogin, dailyStreaks, accountNumber, ifscCode, user, updatedUser;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          // Extract the user ID from the request parameters\n          id = req.userID; // Extract all fields to be updated from the request body\n          _req$body = req.body, name = _req$body.name, email = _req$body.email, phoneNumber = _req$body.phoneNumber, password = _req$body.password, lastLogin = _req$body.lastLogin, dailyStreaks = _req$body.dailyStreaks, accountNumber = _req$body.accountNumber, ifscCode = _req$body.ifscCode; // Find the user by ID\n          _context2.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(id);\n        case 5:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'admin not found'\n          }));\n        case 8:\n          // Update user details including admin-specific fields if they are present in the request body\n          if (name) user.name = name;\n          if (email) user.email = email;\n          if (phoneNumber) user.phoneNumber = phoneNumber;\n          if (password) user.password = password;\n          if (lastLogin) user.lastLogin = lastLogin;\n          if (dailyStreaks) user.dailyStreaks = dailyStreaks;\n          if (accountNumber) user.adminData.accountNumber = accountNumber;\n          if (ifscCode) user.adminData.ifscCode = ifscCode;\n\n          // Save the updated user\n          _context2.next = 18;\n          return user.save();\n        case 18:\n          updatedUser = _context2.sent;\n          // Respond with the updated user data\n          res.status(200).json({\n            success: true,\n            updatedUser: updatedUser\n          });\n          _context2.next = 26;\n          break;\n        case 22:\n          _context2.prev = 22;\n          _context2.t0 = _context2[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error updating user:\", _context2.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 26:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 22]]);\n  }));\n  return function adminUpdate(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/adminProfile.js?");

/***/ }),

/***/ "./controllers/adminController/amtAdminController.js":
/*!***********************************************************!*\
  !*** ./controllers/adminController/amtAdminController.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdminAmountData: () => (/* binding */ getAdminAmountData)\n/* harmony export */ });\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_adminModel_adminAmount_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/adminModel/adminAmount.js */ \"./models/adminModel/adminAmount.js\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node-cron */ \"node-cron\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(node_cron__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n// Define the cron job to calculate and store daily statistics\nvar dailyStatsJob = node_cron__WEBPACK_IMPORTED_MODULE_2___default().schedule('0 0 * * *', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n  var date, startDate, endDate, dailyGames, totalAmount, commission, bettingAmount;\n  return _regeneratorRuntime().wrap(function _callee$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        _context.prev = 0;\n        date = new Date(); // Get current date\n        date.setHours(0, 0, 0, 0); // Set time to midnight to get the start of the day\n        startDate = date; // Start of the current day\n        endDate = new Date(date.getTime() + 24 * 60 * 60 * 1000); // End of the current day (24 hours later)\n        _context.next = 7;\n        return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n          createdAt: {\n            $gte: startDate,\n            $lt: endDate\n          } // Find games created within the current day\n        });\n      case 7:\n        dailyGames = _context.sent;\n        totalAmount = 0;\n        commission = 0; // Calculate total amount and commission from daily games\n        dailyGames.forEach(function (game) {\n          totalAmount += game.money; // Accumulate money from each game\n          commission += game.money * 0.02; // Calculate commission (2% of money) for each game\n        });\n\n        // Calculate betting amount (total amount minus commission)\n        bettingAmount = totalAmount - commission; // Store the daily statistics in the adminAmount schema\n        _context.next = 14;\n        return _models_adminModel_adminAmount_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n          totalAmount: totalAmount,\n          bettingAmount: bettingAmount,\n          commission: commission,\n          createdAt: startDate // Store the date when the statistics were calculated\n        });\n      case 14:\n        console.log('Daily statistics stored successfully.');\n        _context.next = 20;\n        break;\n      case 17:\n        _context.prev = 17;\n        _context.t0 = _context[\"catch\"](0);\n        console.error('Error storing daily statistics:', _context.t0);\n      case 20:\n      case \"end\":\n        return _context.stop();\n    }\n  }, _callee, null, [[0, 17]]);\n})));\n\n// Start the cron job\ndailyStatsJob.start();\nvar getAdminAmountData = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var _req$query, sortByDate, sortByTotalAmount, sortCriteria, adminAmountData;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          // Extract sorting parameters from the request query\n          _req$query = req.query, sortByDate = _req$query.sortByDate, sortByTotalAmount = _req$query.sortByTotalAmount; // Create a sorting object based on the parameters\n          sortCriteria = {};\n          if (sortByDate) {\n            sortCriteria.createdAt = sortByDate === 'asc' ? 1 : -1;\n          }\n          if (sortByTotalAmount) {\n            sortCriteria.totalAmount = sortByTotalAmount === 'asc' ? 1 : -1;\n          }\n\n          // Retrieve admin amount data from the database with sorting applied\n          _context2.next = 7;\n          return _models_adminModel_adminAmount_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({}, {\n            _id: 0,\n            __v: 0\n          }).sort(sortCriteria);\n        case 7:\n          adminAmountData = _context2.sent;\n          // Return the sorted data in JSON format\n          res.json(adminAmountData);\n          _context2.next = 15;\n          break;\n        case 11:\n          _context2.prev = 11;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error('Error retrieving admin amount data:', _context2.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 11]]);\n  }));\n  return function getAdminAmountData(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/amtAdminController.js?");

/***/ }),

/***/ "./controllers/adminController/bettingController.js":
/*!**********************************************************!*\
  !*** ./controllers/adminController/bettingController.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateAndStoreBettingDetail: () => (/* binding */ calculateAndStoreBettingDetail),\n/* harmony export */   calculateStatsByGameType: () => (/* binding */ calculateStatsByGameType)\n/* harmony export */ });\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_adminModel_bettingDetail_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/adminModel/bettingDetail.js */ \"./models/adminModel/bettingDetail.js\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node-cron */ \"node-cron\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(node_cron__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\nvar calculateAndStoreBettingDetail = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var gameTiming, totalBets, twentyFourHoursAgo, games, bettingAmount, userProfit, adminProfit, _iterator, _step, game, bettingDetail;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          gameTiming = 5; // Example: Set the game timing to 5 minutes\n          // Calculate total bets based on game timing (assuming 60 seconds per minute)\n          totalBets = 60 / gameTiming * 60 * 24; // Retrieve games from the last 24 hours \n          twentyFourHoursAgo = new Date(Date.now() - 24 * 60 * 60 * 1000);\n          _context.next = 6;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            createdAt: {\n              $gte: twentyFourHoursAgo\n            }\n          });\n        case 6:\n          games = _context.sent;\n          // Calculate betting amount, user profit, and admin profit\n          bettingAmount = 0;\n          userProfit = 0;\n          adminProfit = 0;\n          _iterator = _createForOfIteratorHelper(games);\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              game = _step.value;\n              bettingAmount += game.money - game.money * 0.02;\n              if (game.message === 'win') {\n                userProfit += game.delivery;\n              } else {\n                adminProfit += game.money;\n              }\n            }\n\n            // Create a new BettingDetail document with the calculated values\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          bettingDetail = new _models_adminModel_bettingDetail_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            totalBets: totalBets,\n            bettingAmount: bettingAmount,\n            userProfit: userProfit,\n            adminProfit: adminProfit\n          }); // Save the new BettingDetail document to the database\n          _context.next = 15;\n          return bettingDetail.save();\n        case 15:\n          res.json(bettingDetail);\n          console.log('Betting detail calculated and stored successfully.');\n          _context.next = 22;\n          break;\n        case 19:\n          _context.prev = 19;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('Error calculating and storing betting detail:', _context.t0);\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 19]]);\n  }));\n  return function calculateAndStoreBettingDetail(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// Define the cron job to execute the function every 24 hours\nvar job = node_cron__WEBPACK_IMPORTED_MODULE_2___default().schedule('0 0 * * *', function () {\n  calculateAndStoreBettingDetail();\n});\n\n// Start the cron job\n// job.start();\nvar calculateStatsByGameType = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var gameTypes, statsByGameType, currentDate, _iterator2, _step2, type, totalBets, bettingAmount, userProfit, adminProfit;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].distinct(\"gameType\");\n        case 3:\n          gameTypes = _context2.sent;\n          statsByGameType = [];\n          currentDate = moment__WEBPACK_IMPORTED_MODULE_3___default()().startOf('day'); // Get the start of today's date\n          _iterator2 = _createForOfIteratorHelper(gameTypes);\n          _context2.prev = 7;\n          _iterator2.s();\n        case 9:\n          if ((_step2 = _iterator2.n()).done) {\n            _context2.next = 26;\n            break;\n          }\n          type = _step2.value;\n          _context2.next = 13;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments({\n            gameType: type\n          });\n        case 13:\n          totalBets = _context2.sent;\n          _context2.next = 16;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              gameType: type\n            }\n          }, {\n            $group: {\n              _id: null,\n              total: {\n                $sum: \"$money\"\n              }\n            }\n          }]);\n        case 16:\n          bettingAmount = _context2.sent;\n          _context2.next = 19;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              gameType: type,\n              message: \"win\"\n            }\n          }, {\n            $group: {\n              _id: null,\n              total: {\n                $sum: \"$delivery\"\n              }\n            }\n          }]);\n        case 19:\n          userProfit = _context2.sent;\n          _context2.next = 22;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              gameType: type,\n              message: \"lost\"\n            }\n          }, {\n            $group: {\n              _id: null,\n              total: {\n                $sum: \"$updatedMoney\"\n              }\n            }\n          }]);\n        case 22:\n          adminProfit = _context2.sent;\n          statsByGameType.push({\n            date: currentDate,\n            gameType: type,\n            totalBets: totalBets,\n            bettingAmount: bettingAmount.length > 0 ? bettingAmount[0].total : 0,\n            userProfit: userProfit.length > 0 ? userProfit[0].total : 0,\n            adminProfit: adminProfit.length > 0 ? adminProfit[0].total : 0\n          });\n        case 24:\n          _context2.next = 9;\n          break;\n        case 26:\n          _context2.next = 31;\n          break;\n        case 28:\n          _context2.prev = 28;\n          _context2.t0 = _context2[\"catch\"](7);\n          _iterator2.e(_context2.t0);\n        case 31:\n          _context2.prev = 31;\n          _iterator2.f();\n          return _context2.finish(31);\n        case 34:\n          res.json(statsByGameType);\n          _context2.next = 41;\n          break;\n        case 37:\n          _context2.prev = 37;\n          _context2.t1 = _context2[\"catch\"](0);\n          console.error('Error calculating stats by game type:', _context2.t1);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 41:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 37], [7, 28, 31, 34]]);\n  }));\n  return function calculateStatsByGameType(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/bettingController.js?");

/***/ }),

/***/ "./controllers/adminController/depositedController.js":
/*!************************************************************!*\
  !*** ./controllers/adminController/depositedController.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDeposited: () => (/* binding */ getDeposited)\n/* harmony export */ });\n/* harmony import */ var _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/transaction.js */ \"./models/transaction.js\");\n/* harmony import */ var _models_adminModel_depositedAmount_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/adminModel/depositedAmount.js */ \"./models/adminModel/depositedAmount.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar getDeposited = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var today, totalDepositedToday, depositedAmountToday, totalDeposited, totalDepositedAmount;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // Get the total deposited amount for today\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n          _context.next = 5;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              'product.name': 'Recharge',\n              createdAt: {\n                $gte: today\n              }\n            }\n          }, {\n            $group: {\n              _id: null,\n              totalDeposited: {\n                $sum: '$amount'\n              }\n            }\n          }]);\n        case 5:\n          totalDepositedToday = _context.sent;\n          depositedAmountToday = totalDepositedToday.length > 0 ? totalDepositedToday[0].totalDeposited : 0; // Get the total deposited amount\n          _context.next = 9;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              'product.name': 'Recharge'\n            }\n          }, {\n            $group: {\n              _id: null,\n              totalDeposited: {\n                $sum: '$amount'\n              }\n            }\n          }]);\n        case 9:\n          totalDeposited = _context.sent;\n          totalDepositedAmount = totalDeposited.length > 0 ? totalDeposited[0].totalDeposited : 0; // Store the deposited amount for today in the Deposit collection\n          _context.next = 13;\n          return _models_adminModel_depositedAmount_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            depositedAmount: depositedAmountToday,\n            total: totalDepositedAmount\n          });\n        case 13:\n          res.json({\n            depositedAmountToday: depositedAmountToday,\n            totalDepositedAmount: totalDepositedAmount\n          });\n          _context.next = 20;\n          break;\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('Error fetching and storing deposited amount:', _context.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n  return function getDeposited(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/depositedController.js?");

/***/ }),

/***/ "./controllers/adminController/helpSupportController.js":
/*!**************************************************************!*\
  !*** ./controllers/adminController/helpSupportController.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteComplain: () => (/* binding */ deleteComplain),\n/* harmony export */   getAllComplains: () => (/* binding */ getAllComplains),\n/* harmony export */   getUserByComplainId: () => (/* binding */ getUserByComplainId),\n/* harmony export */   updateComplainStatus: () => (/* binding */ updateComplainStatus)\n/* harmony export */ });\n/* harmony import */ var _models_complain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/complain.js */ \"./models/complain.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n // Import the Complain model\n\nvar getAllComplains = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, user, sortCriteria, complains;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          userId = req.userID; // Find the user by userID\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context.sent;\n          if (user) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'Admin not found'\n          }));\n        case 7:\n          sortCriteria = {}; // Check if the sort parameter is provided\n          if (req.query.sort) {\n            // Sort based on the specified parameter\n            if (req.query.sort === 'id') {\n              sortCriteria = {\n                _id: 1\n              }; // Sort by ID in ascending order\n            } else if (req.query.sort === 'date') {\n              sortCriteria = {\n                createdAt: 1\n              }; // Sort by date in ascending order\n            }\n            // Add more conditions for additional sorting parameters if needed\n          }\n\n          // Fetch all complains from the database, sorted based on the criteria\n          _context.next = 11;\n          return _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find().select('user status ticketNumber') // Select only the required fields\n          .populate('user', 'name email phoneNumber') // Populate the 'user' field with 'name', 'email', and 'phoneNumber'\n          .sort(sortCriteria);\n        case 11:\n          complains = _context.sent;\n          // Apply the sorting criteria\n\n          // Respond with the list of complains\n          res.status(200).json({\n            success: true,\n            complains: complains\n          });\n          _context.next = 19;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error fetching complains:\", _context.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 15]]);\n  }));\n  return function getAllComplains(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//update\nvar updateComplainStatus = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, user, id, status, updatedComplain;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          userId = req.userID; // Find the user by userID\n          _context2.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: 'Admin not found'\n          }));\n        case 7:\n          id = req.params.id; // Extract the complaint ID from the request parameters\n          status = req.body.status; // Extract the new status from the request body\n          // Find the complaint by ID and update its status\n          _context2.next = 11;\n          return _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(id, {\n            status: status\n          }, {\n            \"new\": true\n          });\n        case 11:\n          updatedComplain = _context2.sent;\n          if (updatedComplain) {\n            _context2.next = 14;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Complaint not found'\n          }));\n        case 14:\n          // Respond with the updated complaint\n          res.status(200).json({\n            success: true,\n            updatedComplain: updatedComplain\n          });\n          _context2.next = 21;\n          break;\n        case 17:\n          _context2.prev = 17;\n          _context2.t0 = _context2[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error updating complain status:\", _context2.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 17]]);\n  }));\n  return function updateComplainStatus(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//view\nvar getUserByComplainId = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var userId, user, id, complainWithUser;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          userId = req.userID; // Find the user by userID\n          _context3.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context3.sent;\n          if (user) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            message: 'Admin not found'\n          }));\n        case 7:\n          id = req.params.id; // Extract the complaint ID from the request parameters\n          // Find the complaint by ID and populate the 'user' field to retrieve all user parameters\n          _context3.next = 10;\n          return _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(id);\n        case 10:\n          complainWithUser = _context3.sent;\n          if (complainWithUser) {\n            _context3.next = 13;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Complaint not found'\n          }));\n        case 13:\n          // Respond with the user associated with the complaint\n          res.status(200).json({\n            success: true,\n            user: complainWithUser\n          });\n          _context3.next = 20;\n          break;\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error fetching user by complain ID:\", _context3.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 20:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 16]]);\n  }));\n  return function getUserByComplainId(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteComplain = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var id, deletedComplain;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          // Extract the complain ID from the request parameters\n          id = req.params.id; // Find the complain by ID and delete it\n          _context4.next = 4;\n          return _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndDelete(id);\n        case 4:\n          deletedComplain = _context4.sent;\n          if (deletedComplain) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Complain not found'\n          }));\n        case 7:\n          // Respond with a success message and the deleted complain data\n          res.status(200).json({\n            success: true,\n            message: 'Complain deleted successfully',\n            complain: deletedComplain\n          });\n          _context4.next = 14;\n          break;\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error deleting complain:\", _context4.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 10]]);\n  }));\n  return function deleteComplain(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/helpSupportController.js?");

/***/ }),

/***/ "./controllers/adminController/listWithDrawController.js":
/*!***************************************************************!*\
  !*** ./controllers/adminController/listWithDrawController.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllTransactionsByUserId: () => (/* binding */ getAllTransactionsByUserId),\n/* harmony export */   withdrawTransaction: () => (/* binding */ withdrawTransaction)\n/* harmony export */ });\n/* harmony import */ var _models_adminModel_adminTransaction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/adminModel/adminTransaction.js */ \"./models/adminModel/adminTransaction.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar withdrawTransaction = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var userId, user, amount, status, transactionType, account, newWithdrawalTransaction, savedTransaction;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          userId = req.userID; // Find the user by userID\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context.sent;\n          if (user) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'Admin not found'\n          }));\n        case 7:\n          // Extract amount from the request body\n          amount = req.body.amount; // Set status to 'pending' for withdrawal transactions\n          status = 'pending'; // Set transaction type to 'account' for withdrawal transactions\n          transactionType = 'account'; // Set account type to 'withdraw' for withdrawal transactions\n          account = 'withdraw'; // Create a new withdrawal transaction with current date and the received amount\n          newWithdrawalTransaction = new _models_adminModel_adminTransaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            amount: amount,\n            status: status,\n            transactionType: transactionType,\n            account: account\n          }); // Save the new withdrawal transaction to the database\n          _context.next = 14;\n          return newWithdrawalTransaction.save();\n        case 14:\n          savedTransaction = _context.sent;\n          // Respond with success message and the saved transaction data\n          res.status(201).json({\n            success: true,\n            message: 'Withdrawal transaction created successfully',\n            transaction: savedTransaction\n          });\n          _context.next = 22;\n          break;\n        case 18:\n          _context.prev = 18;\n          _context.t0 = _context[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error creating withdrawal transaction:\", _context.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 18]]);\n  }));\n  return function withdrawTransaction(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getAllTransactionsByUserId = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var _req$query, sort, id, date, sortCriteria, userId, user, transactions;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _req$query = req.query, sort = _req$query.sort, id = _req$query.id, date = _req$query.date;\n          sortCriteria = {}; // Default empty sort criteria\n          userId = req.userID; // Find the user by userID\n          _context2.next = 6;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 6:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 9;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: 'Admin not found'\n          }));\n        case 9:\n          if (!sort) {\n            _context2.next = 17;\n            break;\n          }\n          _context2.t0 = sort.toLowerCase();\n          _context2.next = _context2.t0 === 'desc' ? 13 : 15;\n          break;\n        case 13:\n          sortCriteria.amount = -1; // Sort by amount in descending order\n          return _context2.abrupt(\"break\", 17);\n        case 15:\n          sortCriteria.amount = 1; // Sort by amount in ascending order by default\n          return _context2.abrupt(\"break\", 17);\n        case 17:\n          if (id) {\n            sortCriteria._id = id.toLowerCase() === 'desc' ? -1 : 1; // Sort by ID based on the provided parameter\n          }\n          if (date) {\n            sortCriteria.timestamps = date.toLowerCase() === 'desc' ? -1 : 1; // Sort by date based on the provided parameter\n          }\n\n          // Find all transactions for the given user ID and sort based on sort criteria\n          _context2.next = 21;\n          return _models_adminModel_adminTransaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({}).sort(sortCriteria);\n        case 21:\n          transactions = _context2.sent;\n          // Respond with success and the list of transactions\n          res.status(200).json({\n            success: true,\n            transactions: transactions\n          });\n          _context2.next = 29;\n          break;\n        case 25:\n          _context2.prev = 25;\n          _context2.t1 = _context2[\"catch\"](0);\n          // Handle errors and respond with an error message\n          console.error(\"Error fetching transactions:\", _context2.t1);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 29:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 25]]);\n  }));\n  return function getAllTransactionsByUserId(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/listWithDrawController.js?");

/***/ }),

/***/ "./controllers/adminController/registeredController.js":
/*!*************************************************************!*\
  !*** ./controllers/adminController/registeredController.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   getAllRegisteredUser: () => (/* binding */ getAllRegisteredUser),\n/* harmony export */   getAllSupportData: () => (/* binding */ getAllSupportData),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var _models_supportCare_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/supportCare.js */ \"./models/supportCare.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n//USER\nvar getAllRegisteredUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var sortCriteria, _req$query, sort, sortBy, users;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          sortCriteria = {}; // Check if sorting is requested\n          _req$query = req.query, sort = _req$query.sort, sortBy = _req$query.sortBy;\n          if (sort && sortBy) {\n            if (sortBy.toLowerCase() === 'date') {\n              sortCriteria.createdAt = sort === 'asc' ? 1 : -1; // Sort by date\n            } else if (sortBy.toLowerCase() === 'id') {\n              sortCriteria._id = sort === 'asc' ? 1 : -1; // Sort by ID\n            }\n          }\n\n          // Fetch users with specified fields and sort criteria\n          _context.next = 6;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({}, '_id name email phoneNumber').sort(sortCriteria);\n        case 6:\n          users = _context.sent;\n          res.status(200).json({\n            success: true,\n            users: users\n          });\n          _context.next = 14;\n          break;\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(\"Error fetching users:\", _context.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return function getAllRegisteredUser(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getUserById = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          userId = req.params.userId; // Find the user by ID\n          _context2.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 4:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'User not found'\n          }));\n        case 7:\n          res.status(200).json({\n            success: true,\n            user: user\n          });\n          _context2.next = 14;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error(\"Error fetching user:\", _context2.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n  return function getUserById(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updateUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var userId, _req$body, name, email, phoneNumber, user;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          userId = req.params.userId;\n          _req$body = req.body, name = _req$body.name, email = _req$body.email, phoneNumber = _req$body.phoneNumber; // Find the user by ID\n          _context3.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 5:\n          user = _context3.sent;\n          if (user) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'User not found'\n          }));\n        case 8:\n          // Update user details\n          if (name) user.name = name;\n          if (email) user.email = email;\n          if (phoneNumber) user.phoneNumber = phoneNumber;\n\n          // Save the updated user\n          _context3.next = 13;\n          return user.save();\n        case 13:\n          user = _context3.sent;\n          res.status(200).json({\n            success: true,\n            user: user\n          });\n          _context3.next = 21;\n          break;\n        case 17:\n          _context3.prev = 17;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error(\"Error updating user:\", _context3.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 17]]);\n  }));\n  return function updateUser(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          userId = req.params.userId; // Find the user by ID and delete\n          _context4.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndDelete(userId);\n        case 4:\n          user = _context4.sent;\n          if (user) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'User not found'\n          }));\n        case 7:\n          res.status(200).json({\n            success: true,\n            message: 'User deleted successfully'\n          });\n          _context4.next = 14;\n          break;\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error(\"Error deleting user:\", _context4.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 10]]);\n  }));\n  return function deleteUser(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar logout = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var token;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          // 1. Read the token from the request headers\n          token = req.headers.authorization; // 2. If no token is provided or token is blacklisted, return an unauthorized response\n          if (!(!token || blacklistedTokens.has(token))) {\n            _context5.next = 3;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(401).send('Unauthorized,'));\n        case 3:\n          _context5.prev = 3;\n          // 3. Add the token to the blacklist to invalidate it\n          blacklistedTokens.add(token);\n          // Clear the token from the client-side storage\n          res.clearCookie('token'); // Example for cookies, adjust for your storage mechanism\n\n          // 4. Return a success response indicating logout is successful\n          return _context5.abrupt(\"return\", res.status(200).send('Logout successful'));\n        case 9:\n          _context5.prev = 9;\n          _context5.t0 = _context5[\"catch\"](3);\n          // 5. If an error occurs, log it and return an internal server error response\n          console.log(_context5.t0);\n          return _context5.abrupt(\"return\", res.status(500).send('Internal Server Error'));\n        case 13:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[3, 9]]);\n  }));\n  return function logout(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getAllSupportData = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var allSupportData;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return _models_supportCare_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 3:\n          allSupportData = _context6.sent;\n          // Send the support data as a JSON response\n          res.status(200).json({\n            success: true,\n            data: allSupportData\n          });\n          _context6.next = 11;\n          break;\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.error(\"Error fetching support data:\", _context6.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 7]]);\n  }));\n  return function getAllSupportData(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/registeredController.js?");

/***/ }),

/***/ "./controllers/adminController/revenueController.js":
/*!**********************************************************!*\
  !*** ./controllers/adminController/revenueController.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchAdminRevenueData: () => (/* binding */ fetchAdminRevenueData)\n/* harmony export */ });\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_adminModel_revenue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/adminModel/revenue.js */ \"./models/adminModel/revenue.js\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node-cron */ \"node-cron\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(node_cron__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar calculateAndStoreAdminProfit = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var lostMoneyByGameTypeAndDate, adminRevenueData;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n            $match: {\n              message: 'lost'\n            }\n          },\n          // Filter where message is 'lost'\n          {\n            $group: {\n              _id: {\n                date: {\n                  $dateToString: {\n                    format: '%Y-%m-%d',\n                    date: '$createdAt'\n                  }\n                },\n                // Group by date\n                gameType: '$gameType' // Group by game type\n              },\n              totalLostMoney: {\n                $sum: '$money'\n              } // Calculate total lost money\n            }\n          }, {\n            $project: {\n              _id: 0,\n              // Exclude _id field\n              date: '$_id.date',\n              // Project date from _id\n              gameType: '$_id.gameType',\n              // Project gameType from _id\n              totalLostMoney: 1 // Include totalLostMoney field\n            }\n          }]);\n        case 3:\n          lostMoneyByGameTypeAndDate = _context2.sent;\n          _context2.next = 6;\n          return Promise.all(lostMoneyByGameTypeAndDate.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(result) {\n              var date, gameType, totalLostMoney, adminRevenue;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    date = result.date, gameType = result.gameType, totalLostMoney = result.totalLostMoney;\n                    adminRevenue = new _models_adminModel_revenue_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                      AdminProfit: totalLostMoney,\n                      gameType: gameType,\n                      createdAt: new Date(date)\n                    });\n                    _context.next = 4;\n                    return adminRevenue.save();\n                  case 4:\n                    return _context.abrupt(\"return\", adminRevenue);\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x3) {\n              return _ref2.apply(this, arguments);\n            };\n          }()));\n        case 6:\n          adminRevenueData = _context2.sent;\n          console.log(\"reveneue update of admin from games\");\n          // res.json(adminRevenueData);\n          _context2.next = 14;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error('Error calculating and storing admin profit:', _context2.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n  return function calculateAndStoreAdminProfit(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nnode_cron__WEBPACK_IMPORTED_MODULE_2___default().schedule('0 0 */24 * * *', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n  return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n    while (1) switch (_context3.prev = _context3.next) {\n      case 0:\n        _context3.next = 2;\n        return calculateAndStoreAdminProfit();\n      case 2:\n        console.log('Admin profit calculation and storage completed.');\n      case 3:\n      case \"end\":\n        return _context3.stop();\n    }\n  }, _callee3);\n})));\n\n// Run the function immediately when the server starts\n// calculateAndStoreAdminProfit();\n\nvar fetchAdminRevenueData = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var adminRevenueData;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _models_adminModel_revenue_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 3:\n          adminRevenueData = _context4.sent;\n          res.json(adminRevenueData);\n          _context4.next = 11;\n          break;\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error('Error fetching admin revenue data:', _context4.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 11:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return function fetchAdminRevenueData(_x4, _x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/revenueController.js?");

/***/ }),

/***/ "./controllers/adminController/userManagementController.js":
/*!*****************************************************************!*\
  !*** ./controllers/adminController/userManagementController.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Userlist: () => (/* binding */ Userlist),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   updateUser: () => (/* binding */ updateUser),\n/* harmony export */   userStatFilterGraph: () => (/* binding */ userStatFilterGraph),\n/* harmony export */   userStatGraph: () => (/* binding */ userStatGraph)\n/* harmony export */ });\n/* harmony import */ var _models_adminModel_userStat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/adminModel/userStat.js */ \"./models/adminModel/userStat.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar userStatGraph = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var sixHoursAgo, userStatsData, intervals, userDataByInterval, activeUsers, inactiveUsers, lastUpdatedTime;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // Calculate the start time for the last 6 hours\n          sixHoursAgo = new Date(Date.now() - 6 * 60 * 60 * 1000); // Fetch all UserStats documents within the last 6 hours\n          _context.next = 4;\n          return _models_adminModel_userStat_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            lastUpdated: {\n              $gte: sixHoursAgo\n            }\n          }).sort({\n            lastUpdated: 1\n          });\n        case 4:\n          userStatsData = _context.sent;\n          // Calculate the number of intervals (30 minutes each) in the last 6 hours\n          intervals = 6 * 60 / 30; // Initialize an array to store the data for each interval\n          userDataByInterval = []; // Initialize variables for active users, inactive users, and the last updated time\n          activeUsers = 0;\n          inactiveUsers = 0;\n          lastUpdatedTime = null; // Iterate over each UserStats document\n          userStatsData.forEach(function (userData) {\n            // Update the active and inactive users count\n            activeUsers += userData.activeUsers;\n            inactiveUsers += userData.inactiveUsers;\n            // Set the last updated time\n            lastUpdatedTime = userData.lastUpdated;\n\n            // If the last updated time is after the current interval, push the data for the interval\n            if (userData.lastUpdated >= sixHoursAgo) {\n              userDataByInterval.push({\n                time: userData.lastUpdated,\n                activeUsers: activeUsers,\n                inactiveUsers: inactiveUsers\n              });\n              // Reset active and inactive user counts for the next interval\n              activeUsers = 0;\n              inactiveUsers = 0;\n            }\n          });\n\n          // Return the data in JSON format\n          res.json({\n            intervals: intervals,\n            data: userDataByInterval\n          });\n          _context.next = 18;\n          break;\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](0);\n          console.error('Error fetching user statistics data:', _context.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 14]]);\n  }));\n  return function userStatGraph(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar userStatFilterGraph = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var type, fromDate, interval, toDate, userDataByInterval, userStatsData, intervalStartDate, activeUsers, inactiveUsers, _loop;\n    return _regeneratorRuntime().wrap(function _callee2$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          type = req.query.type; // Type can be 'week', 'month', '6months', or 'year'\n          _context3.t0 = type;\n          _context3.next = _context3.t0 === 'week' ? 5 : _context3.t0 === 'month' ? 10 : _context3.t0 === '6months' ? 15 : _context3.t0 === 'year' ? 21 : 27;\n          break;\n        case 5:\n          // Start from the beginning of the current week\n          fromDate = new Date();\n          fromDate.setHours(0, 0, 0, 0);\n          fromDate.setDate(fromDate.getDate() - fromDate.getDay());\n          interval = 24 * 60 * 60 * 1000; // 1 day\n          return _context3.abrupt(\"break\", 28);\n        case 10:\n          // Start from the beginning of the current month\n          fromDate = new Date();\n          fromDate.setDate(1);\n          fromDate.setHours(0, 0, 0, 0);\n          interval = 7 * 24 * 60 * 60 * 1000; // 1 week\n          return _context3.abrupt(\"break\", 28);\n        case 15:\n          // Start from 6 months ago\n          fromDate = new Date();\n          fromDate.setMonth(fromDate.getMonth() - 6);\n          fromDate.setDate(1);\n          fromDate.setHours(0, 0, 0, 0);\n          interval = 30 * 24 * 60 * 60 * 1000; // 1 month\n          return _context3.abrupt(\"break\", 28);\n        case 21:\n          // Start from the beginning of the current year\n          fromDate = new Date();\n          fromDate.setMonth(0);\n          fromDate.setDate(1);\n          fromDate.setHours(0, 0, 0, 0);\n          interval = 30 * 24 * 60 * 60 * 1000; // 1 month\n          return _context3.abrupt(\"break\", 28);\n        case 27:\n          throw new Error('Invalid type parameter');\n        case 28:\n          toDate = new Date(); // End date is current date\n          userDataByInterval = []; // Fetch UserStats documents within the specified date range\n          _context3.next = 32;\n          return _models_adminModel_userStat_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            lastUpdated: {\n              $gte: fromDate,\n              $lte: toDate\n            }\n          }).sort({\n            lastUpdated: 1\n          });\n        case 32:\n          userStatsData = _context3.sent;\n          // Iterate over each interval and accumulate data\n          intervalStartDate = fromDate;\n          activeUsers = 0;\n          inactiveUsers = 0;\n          _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n            var intervalEndDate;\n            return _regeneratorRuntime().wrap(function _loop$(_context2) {\n              while (1) switch (_context2.prev = _context2.next) {\n                case 0:\n                  intervalEndDate = new Date(intervalStartDate.getTime() + interval); // Accumulate data for the interval\n                  userStatsData.forEach(function (userData) {\n                    if (userData.lastUpdated >= intervalStartDate && userData.lastUpdated < intervalEndDate) {\n                      activeUsers += userData.activeUsers;\n                      inactiveUsers += userData.inactiveUsers;\n                    }\n                  });\n\n                  // Push accumulated data for the interval\n                  userDataByInterval.push({\n                    startDate: intervalStartDate,\n                    endDate: intervalEndDate,\n                    activeUsers: activeUsers,\n                    inactiveUsers: inactiveUsers\n                  });\n\n                  // Reset counts for the next interval\n                  activeUsers = 0;\n                  inactiveUsers = 0;\n\n                  // Move to the next interval\n                  intervalStartDate = intervalEndDate;\n                case 6:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }, _loop);\n          });\n        case 37:\n          if (!(intervalStartDate <= toDate)) {\n            _context3.next = 41;\n            break;\n          }\n          return _context3.delegateYield(_loop(), \"t1\", 39);\n        case 39:\n          _context3.next = 37;\n          break;\n        case 41:\n          // Return the accumulated data\n          res.json({\n            intervalType: type,\n            data: userDataByInterval\n          });\n          _context3.next = 48;\n          break;\n        case 44:\n          _context3.prev = 44;\n          _context3.t2 = _context3[\"catch\"](0);\n          console.error('Error fetching user statistics data:', _context3.t2);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 48:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee2, null, [[0, 44]]);\n  }));\n  return function userStatFilterGraph(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar Userlist = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var query, sort, users;\n    return _regeneratorRuntime().wrap(function _callee3$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          query = {}; // Check if a filter parameter is provided in the query\n          if (req.query.filter) {\n            // Example: filter by name\n            query.name = {\n              $regex: req.query.filter,\n              $options: 'i'\n            }; // Case-insensitive search\n          }\n          sort = {}; // Check if a sort parameter is provided in the query\n          if (req.query.sort) {\n            // Example: sort by date\n            if (req.query.sort === 'date') {\n              sort.createdAt = -1; // Sort by create date in descending order (latest first)\n            }\n            // Example: sort by ID\n            else if (req.query.sort === 'id') {\n              sort._id = 1; // Sort by ID in ascending order\n            }\n          }\n\n          // Fetch users based on query and sort criteria\n          _context4.next = 7;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(query, 'name status phoneNumber wallet lastLogin').sort(sort);\n        case 7:\n          users = _context4.sent;\n          // Return the user data in JSON format\n          res.json({\n            success: true,\n            users: users.map(function (user) {\n              return {\n                userID: user._id,\n                name: user.name,\n                email: user.email,\n                status: user.status,\n                wallet: user.wallet,\n                lastLogin: user.lastLogin || 'Never logged in'\n              };\n            })\n          });\n          _context4.next = 15;\n          break;\n        case 11:\n          _context4.prev = 11;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error('Error fetching user list:', _context4.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee3, null, [[0, 11]]);\n  }));\n  return function Userlist(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar updateUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var userID, _req$body, userWallet, status, user;\n    return _regeneratorRuntime().wrap(function _callee4$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          userID = req.params.userID;\n          _req$body = req.body, userWallet = _req$body.userWallet, status = _req$body.status; // Find the user by ID\n          _context5.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userID);\n        case 5:\n          user = _context5.sent;\n          if (user) {\n            _context5.next = 8;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: 'User not found'\n          }));\n        case 8:\n          // Update the user's wallet if provided\n          if (userWallet !== undefined) {\n            user.wallet = userWallet;\n          }\n\n          // Update the user's status if provided\n          if (status !== undefined) {\n            user.status = status;\n          }\n\n          // Save the updated user\n          _context5.next = 12;\n          return user.save();\n        case 12:\n          // Return the updated user data\n          res.json({\n            success: true,\n            user: user\n          });\n          _context5.next = 19;\n          break;\n        case 15:\n          _context5.prev = 15;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.error('Error updating user:', _context5.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 19:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee4, null, [[0, 15]]);\n  }));\n  return function updateUser(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar deleteUser = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var userId, deletedUser;\n    return _regeneratorRuntime().wrap(function _callee5$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          userId = req.params.userId; // Find the user by ID and delete it\n          _context6.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(userId);\n        case 4:\n          deletedUser = _context6.sent;\n          if (deletedUser) {\n            _context6.next = 7;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: 'User not found'\n          }));\n        case 7:\n          // Return success response\n          res.json({\n            success: true,\n            message: 'User deleted successfully'\n          });\n          _context6.next = 14;\n          break;\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.error('Error deleting user:', _context6.t0);\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee5, null, [[0, 10]]);\n  }));\n  return function deleteUser(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/userManagementController.js?");

/***/ }),

/***/ "./controllers/adminController/withdrawRequestController.js":
/*!******************************************************************!*\
  !*** ./controllers/adminController/withdrawRequestController.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteTransactionById: () => (/* binding */ deleteTransactionById),\n/* harmony export */   getAllWithdrawTransactions: () => (/* binding */ getAllWithdrawTransactions),\n/* harmony export */   getTransactionById: () => (/* binding */ getTransactionById),\n/* harmony export */   updateTransactionById: () => (/* binding */ updateTransactionById)\n/* harmony export */ });\n/* harmony import */ var _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/transaction.js */ \"./models/transaction.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar getAllWithdrawTransactions = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var withdrawTransactions, _req$query, sort, sortBy, sortCriteria;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _req$query = req.query, sort = _req$query.sort, sortBy = _req$query.sortBy; // Determine the sort criteria based on the sortBy parameter\n          sortCriteria = {};\n          if (sortBy && sortBy.toLowerCase() === 'date') {\n            sortCriteria.timestamps = 1; // Sort by date in ascending order\n          } else if (sortBy && sortBy.toLowerCase() === 'id') {\n            sortCriteria._id = 1; // Sort by ID in ascending order\n          }\n\n          // Fetch all transactions with product name set to \"withdraw\" from the database\n          if (!(sort && sort.toLowerCase() === 'true')) {\n            _context.next = 10;\n            break;\n          }\n          _context.next = 7;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            'product.name': 'withdraw'\n          }).select('_id user amount transactionType status').sort(sortCriteria);\n        case 7:\n          withdrawTransactions = _context.sent;\n          _context.next = 13;\n          break;\n        case 10:\n          _context.next = 12;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            'product.name': 'withdraw'\n          }).select('_id user amount transactionType status');\n        case 12:\n          withdrawTransactions = _context.sent;\n        case 13:\n          // Send the withdrawal transactions as a JSON response\n          res.status(200).json({\n            success: true,\n            withdrawTransactions: withdrawTransactions\n          });\n          _context.next = 20;\n          break;\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(\"Error fetching withdrawal transactions:\", _context.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n  return function getAllWithdrawTransactions(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// export const getAllWithdrawTransactions = async (req, res) => {\n//     try {\n//         // Fetch all transactions with product name set to \"withdraw\" from the database\n//         const withdrawTransactions = await Transaction.find({ 'product.name': 'withdraw' })\n//         .select('_id user amount transactionType status')\n\n//         // Send the withdrawal transactions as a JSON response\n//         res.status(200).json({ success: true, withdrawTransactions: withdrawTransactions });\n//     } catch (error) {\n//         console.error(\"Error fetching withdrawal transactions:\", error);\n//         // Send an error response to the client\n//         res.status(500).json({ success: false, error: 'Internal Server Error' });\n//     }\n// };\n\nvar getTransactionById = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var transactionId, transaction;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          // Extract the transaction ID from the request parameters\n          transactionId = req.params.transactionId; // Fetch the transaction from the database using the provided ID\n          _context2.next = 4;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(transactionId).populate('user', 'name');\n        case 4:\n          transaction = _context2.sent;\n          if (transaction) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Transaction not found'\n          }));\n        case 7:\n          // Send the transaction as a JSON response\n          res.status(200).json({\n            success: true,\n            transaction: transaction\n          });\n          _context2.next = 14;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error(\"Error fetching transaction:\", _context2.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 10]]);\n  }));\n  return function getTransactionById(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updateTransactionById = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var transactionId, _req$body, amount, status, updateFields, updatedTransaction;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          // Extract the transaction ID from the request parameters\n          transactionId = req.params.transactionId; // Extract the fields to update from the request body\n          _req$body = req.body, amount = _req$body.amount, status = _req$body.status; // Create an object with the fields to update\n          updateFields = {};\n          if (amount) {\n            updateFields.amount = amount;\n          }\n          if (status) {\n            updateFields.status = status;\n          }\n\n          // Find the transaction by ID and update it with the specified fields\n          _context3.next = 8;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(transactionId, updateFields, {\n            \"new\": true\n          } // Return the updated transaction after the update operation\n          );\n        case 8:\n          updatedTransaction = _context3.sent;\n          if (updatedTransaction) {\n            _context3.next = 11;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Transaction not found'\n          }));\n        case 11:\n          // Send the updated transaction as a JSON response\n          res.status(200).json({\n            success: true,\n            transaction: updatedTransaction\n          });\n          _context3.next = 18;\n          break;\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error(\"Error updating transaction:\", _context3.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 14]]);\n  }));\n  return function updateTransactionById(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar deleteTransactionById = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var transactionId, deletedTransaction;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          // Extract the transaction ID from the request parameters\n          transactionId = req.params.transactionId; // Find the transaction by ID and delete it\n          _context4.next = 4;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndDelete(transactionId);\n        case 4:\n          deletedTransaction = _context4.sent;\n          if (deletedTransaction) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: 'Transaction not found'\n          }));\n        case 7:\n          // Send a success response indicating that the transaction was deleted\n          res.status(200).json({\n            success: true,\n            message: 'Transaction deleted successfully'\n          });\n          _context4.next = 14;\n          break;\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.error(\"Error deleting transaction:\", _context4.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: 'Internal Server Error'\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 10]]);\n  }));\n  return function deleteTransactionById(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/adminController/withdrawRequestController.js?");

/***/ }),

/***/ "./controllers/complainController.js":
/*!*******************************************!*\
  !*** ./controllers/complainController.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createComplaint: () => (/* binding */ createComplaint),\n/* harmony export */   fetchAllComplaints: () => (/* binding */ fetchAllComplaints),\n/* harmony export */   generateTicketNumber: () => (/* binding */ generateTicketNumber)\n/* harmony export */ });\n/* harmony import */ var _models_complain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/complain.js */ \"./models/complain.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar ticketNumber = 1000000;\nvar generateTicketNumber = function generateTicketNumber() {\n  ticketNumber++;\n  return ticketNumber.toString().padStart(7, '0');\n};\nvar createComplaint = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, email, complainBody, userId, user, newTicketNumber, newComplaint;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, email = _req$body.email, complainBody = _req$body.complainBody;\n          userId = req.userID;\n          _context.prev = 2;\n          _context.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 5:\n          user = _context.sent;\n          if (user) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 8:\n          console.log(user.email, \" \", user.name);\n          newTicketNumber = generateTicketNumber(); // Create a new complaint instance\n          newComplaint = new _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            user: userId,\n            email: email,\n            name: user.name,\n            complainBody: complainBody,\n            ticketNumber: newTicketNumber\n          }); // Save the complaint to the database\n          _context.next = 13;\n          return newComplaint.save();\n        case 13:\n          return _context.abrupt(\"return\", res.status(201).json({\n            message: 'Complaint created successfully'\n          }));\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](2);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: 'Internal server error'\n          }));\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 16]]);\n  }));\n  return function createComplaint(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar fetchAllComplaints = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var complaints;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _models_complain_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find();\n        case 3:\n          complaints = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            complaints: complaints\n          }));\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: 'Internal server error'\n          }));\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function fetchAllComplaints(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/complainController.js?");

/***/ }),

/***/ "./controllers/refferalController.js":
/*!*******************************************!*\
  !*** ./controllers/refferalController.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   agencyPrivilge: () => (/* binding */ agencyPrivilge),\n/* harmony export */   agentMillionariePlan: () => (/* binding */ agentMillionariePlan),\n/* harmony export */   createMyLinkAndCode: () => (/* binding */ createMyLinkAndCode),\n/* harmony export */   fetchReferralCounts: () => (/* binding */ fetchReferralCounts),\n/* harmony export */   getAgentAmount: () => (/* binding */ getAgentAmount),\n/* harmony export */   getMyReferralLinkAndCode: () => (/* binding */ getMyReferralLinkAndCode),\n/* harmony export */   getReferAll: () => (/* binding */ getReferAll),\n/* harmony export */   incomeDetails: () => (/* binding */ incomeDetails),\n/* harmony export */   inviteLinkByEmail: () => (/* binding */ inviteLinkByEmail),\n/* harmony export */   invitedToday: () => (/* binding */ invitedToday),\n/* harmony export */   privilege: () => (/* binding */ privilege),\n/* harmony export */   referralRanking: () => (/* binding */ referralRanking),\n/* harmony export */   todayIncome: () => (/* binding */ todayIncome),\n/* harmony export */   updateReferralSchema: () => (/* binding */ updateReferralSchema)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/refferal.js */ \"./models/refferal.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_5__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_5___default().config();\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\n\n// Endpoint to create a referral  router.post('/referrals',\nvar privilege = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, referrerId, refereeId, referrer, referee, referrerLevel, level, referrerReferral, refereeReferral, referrerOfReferrer, referrerOfReferrerReferral, referral, referralAmount;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _req$body = req.body, referrerId = _req$body.referrerId, refereeId = _req$body.refereeId; // Check if referrer and referee exist\n          _context.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(referrerId);\n        case 4:\n          referrer = _context.sent;\n          _context.next = 7;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(refereeId);\n        case 7:\n          referee = _context.sent;\n          _context.next = 10;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(referrerId);\n        case 10:\n          referrerLevel = _context.sent;\n          if (!(!referrer || !referee)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).json({\n            message: 'Referrer or referee not found'\n          }));\n        case 13:\n          // Determine the referral level based on the referrer\n          level = 1; // Default level is 1 (direct referral)\n          _context.next = 16;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referee: referrerId\n          });\n        case 16:\n          referrerReferral = _context.sent;\n          _context.next = 19;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById();\n        case 19:\n          refereeReferral = _context.sent;\n          if (!referrerReferral) {\n            _context.next = 30;\n            break;\n          }\n          _context.next = 23;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(referrerReferral.referrer);\n        case 23:\n          referrerOfReferrer = _context.sent;\n          if (!referrerOfReferrer) {\n            _context.next = 30;\n            break;\n          }\n          level = 2; // Second-level referral\n          _context.next = 28;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referee: referrerOfReferrer._id\n          });\n        case 28:\n          referrerOfReferrerReferral = _context.sent;\n          if (referrerOfReferrerReferral) {\n            level = 3; // Third-level referral\n          }\n        case 30:\n          // Create the referral\n          referral = new _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            referrer: referrerId,\n            referee: refereeId,\n            amount: amount,\n            level: level\n          });\n          _context.next = 33;\n          return referral.save();\n        case 33:\n          // Calculate referral amount based on the referral level\n          referralAmount = amount;\n          if (level === 2) {\n            referralAmount *= 0.3; // Second-level referral gets 30%\n          } else if (level === 3) {\n            referralAmount *= 0.2; // Third-level referral gets 20%\n          }\n\n          // Update user balances based on referral\n          referrer.wallet += amount * 0.4; // Referrer gets 40%\n          referee.wallet += referralAmount; // Referee gets referral amount\n          _context.next = 39;\n          return referrer.save();\n        case 39:\n          _context.next = 41;\n          return referee.save();\n        case 41:\n          res.status(201).json({\n            message: 'Referral created successfully'\n          });\n          _context.next = 48;\n          break;\n        case 44:\n          _context.prev = 44;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(_context.t0);\n          res.status(500).json({\n            error: 'Internal server error'\n          });\n        case 48:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 44]]);\n  }));\n  return function privilege(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n// Add more endpoints for retrieving referrals, etc.\n\nvar referralRanking = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          try {\n            data = {\n              ranking: [{\n                rank: 1,\n                name: \"John Doe\",\n                referrals: 20\n              }, {\n                rank: 2,\n                name: \"Jane Smith\",\n                referrals: 15\n              }, {\n                rank: 3,\n                name: \"Alice Johnson\",\n                referrals: 12\n              }]\n            };\n            res.status(200).json({\n              success: true,\n              message: \"comming soon \",\n              data: data\n            });\n          } catch (error) {\n            res.status(500).json({\n              success: false,\n              error: \"Internal Server Error\"\n            });\n          }\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function referralRanking(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar agencyPrivilge = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          data = {\n            heading: \"3 level invites each user generate Commission\",\n            levels: [{\n              level: 1,\n              commission: \"40%\"\n            }, {\n              level: 2,\n              commission: \"30%\"\n            }, {\n              level: 3,\n              commission: \"20%\"\n            }]\n          };\n          return _context3.abrupt(\"return\", res.status(200).json({\n            success: true,\n            data: data\n          }));\n        case 5:\n          _context3.prev = 5;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error(\"Error:\", _context3.t0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            success: false,\n            error: \"Internal Server Error\"\n          }));\n        case 9:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 5]]);\n  }));\n  return function agencyPrivilge(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar createMyLinkAndCode = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var userID, user, level, baseUrl, queryParams, referralUrl, combinedString, referralCode, updatedUser;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          userID = req.userID;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            _id: userID\n          });\n        case 4:\n          user = _context4.sent;\n          if (user) {\n            _context4.next = 7;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          level = user.level; // Assuming 'level' is the property in the User schema\n          // Construct referral URL\n          baseUrl = 'https://localhost:3000/verifyOtpAndRegisterUser';\n          queryParams = {\n            userID: userID,\n            level: level\n          };\n          referralUrl = url__WEBPACK_IMPORTED_MODULE_3___default().format({\n            pathname: baseUrl,\n            query: queryParams\n          }); // Generate referral code\n          combinedString = userID.toString() + level.toString();\n          if (combinedString.length > 6) {\n            combinedString = combinedString.substring(0, 6);\n          }\n          combinedString = combinedString.padEnd(6, '0');\n          referralCode = combinedString; // Update user document with referral information\n          _context4.next = 17;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOneAndUpdate({\n            _id: userID\n          }, {\n            referralUrl: referralUrl,\n            referralCode: referralCode\n          }, {\n            \"new\": true\n          });\n        case 17:\n          updatedUser = _context4.sent;\n          if (updatedUser) {\n            _context4.next = 20;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).json({\n            message: 'Failed to update user'\n          }));\n        case 20:\n          return _context4.abrupt(\"return\", res.json({\n            referralUrl: referralUrl,\n            referralCode: referralCode\n          }));\n        case 23:\n          _context4.prev = 23;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.error(\"Error:\", _context4.t0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            message: 'Internal Server Error'\n          }));\n        case 27:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 23]]);\n  }));\n  return function createMyLinkAndCode(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getMyReferralLinkAndCode = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var userId, user, referralUrl, referralCode;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          userId = req.userID;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(userId);\n        case 4:\n          user = _context5.sent;\n          if (user) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Extract referral link and code from the user document\n          referralUrl = user.referralUrl;\n          referralCode = user.referralCode; // Return referral link and code in the response\n          return _context5.abrupt(\"return\", res.json({\n            referralUrl: referralUrl,\n            referralCode: referralCode\n          }));\n        case 12:\n          _context5.prev = 12;\n          _context5.t0 = _context5[\"catch\"](1);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            message: 'Internal Server Error'\n          }));\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 12]]);\n  }));\n  return function getMyReferralLinkAndCode(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar inviteLinkByEmail = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var userId, recipientEmail, user, referralLink, referralCode, transporter, mailOptions, info;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userId = req.userID;\n          recipientEmail = req.body.recipientEmail;\n          _context6.prev = 2;\n          console.log(\"user \", userId);\n          // Find the user document by userID\n          _context6.next = 6;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(userId);\n        case 6:\n          user = _context6.sent;\n          if (user) {\n            _context6.next = 9;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 9:\n          // Extract referral link from the user document\n          referralLink = user.referralUrl;\n          referralCode = user.referralCode; // Create a transporter with Gmail service\n          transporter = nodemailer__WEBPACK_IMPORTED_MODULE_4___default().createTransport({\n            service: \"gmail\",\n            auth: {\n              user: \"flytest62@gmail.com\",\n              pass: \"wjpdhgwpbtibgbas\"\n            }\n          }); // Define email options\n          mailOptions = {\n            from: \"flytest62@gmail.com\",\n            to: recipientEmail,\n            subject: 'Referral Link ',\n            html: \"<div><p>Here is your referral link: <a href=\\\"\".concat(referralLink, \"\\\">\").concat(referralLink, \"</a></p> <br> <p><h1>Referral Code FAST win</h1> \").concat(referralCode, \"</p>  </div>\")\n          }; // Send email\n          _context6.next = 15;\n          return transporter.sendMail(mailOptions);\n        case 15:\n          info = _context6.sent;\n          console.log(\"Email sent: \", info.response);\n          return _context6.abrupt(\"return\", res.json({\n            message: 'Email sent successfully'\n          }));\n        case 20:\n          _context6.prev = 20;\n          _context6.t0 = _context6[\"catch\"](2);\n          console.error(\"Error sending email: \", _context6.t0);\n          return _context6.abrupt(\"return\", res.status(500).json({\n            message: 'Internal Server Error'\n          }));\n        case 24:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[2, 20]]);\n  }));\n  return function inviteLinkByEmail(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar agentMillionariePlan = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var userId, referral, refereeCount, amountToAdd, user;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userId = req.userId;\n          _context7.prev = 1;\n          _context7.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context7.sent;\n          if (referral) {\n            _context7.next = 7;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: 'User is not a referrer'\n          }));\n        case 7:\n          // Find the length of the referee array associated with the referrer\n          refereeCount = referral.referee.length;\n          amountToAdd = 0; // Determine the amount to add to the user's wallet based on refereeCount\n          if (refereeCount >= 1 && refereeCount < 5) {\n            amountToAdd = 80;\n          } else if (refereeCount >= 5 && refereeCount < 10) {\n            amountToAdd = 400;\n          } else if (refereeCount >= 10 && refereeCount < 30) {\n            amountToAdd = 1300;\n          } else if (refereeCount >= 30 && refereeCount < 50) {\n            amountToAdd = 10000;\n          } else if (refereeCount >= 50 && refereeCount < 100) {\n            amountToAdd = 35000;\n          } else if (refereeCount >= 100 && refereeCount < 500) {\n            amountToAdd = 480000;\n          } else if (refereeCount >= 500) {\n            amountToAdd = 1400000;\n          }\n\n          // Update the user's wallet with the calculated amount\n          _context7.next = 12;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOneAndUpdate({\n            _id: userId\n          }, {\n            $inc: {\n              wallet: amountToAdd\n            }\n          },\n          // Increment wallet amount\n          {\n            \"new\": true\n          });\n        case 12:\n          user = _context7.sent;\n          if (user) {\n            _context7.next = 15;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 15:\n          if (!(refereeCount == 0)) {\n            _context7.next = 17;\n            break;\n          }\n          return _context7.abrupt(\"return\", res.status(201).json({\n            message: 'Please referr to Friends and get a change to win'\n          }));\n        case 17:\n          return _context7.abrupt(\"return\", res.json({\n            success: true,\n            message: \"Congratulation \",\n            refereeCount: refereeCount,\n            amountAdded: amountToAdd,\n            walletAmount: user.wallet\n          }));\n        case 20:\n          _context7.prev = 20;\n          _context7.t0 = _context7[\"catch\"](1);\n          console.error(\"Error:\", _context7.t0);\n          return _context7.abrupt(\"return\", res.status(500).json({\n            message: 'Internal Server Error'\n          }));\n        case 24:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[1, 20]]);\n  }));\n  return function agentMillionariePlan(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar updateReferralSchema = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(referrerId, refereeId) {\n    var referral, newReferral;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          _context8.next = 3;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: referrerId\n          });\n        case 3:\n          referral = _context8.sent;\n          if (referral) {\n            _context8.next = 10;\n            break;\n          }\n          // If no referral document found, create a new one\n          newReferral = new _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            referrer: referrerId,\n            referee: [refereeId],\n            // Add the referee to the referee array\n            amount: 100,\n            // Assuming a default amount of 100\n            level: 1,\n            // Assuming a default level of 1\n            createdAt: new Date()\n          });\n          _context8.next = 8;\n          return newReferral.save();\n        case 8:\n          _context8.next = 13;\n          break;\n        case 10:\n          // If referral document found, update the referee array\n          referral.referee.push(refereeId);\n          _context8.next = 13;\n          return referral.save();\n        case 13:\n          console.log(\"Referral schema updated successfully\");\n          _context8.next = 19;\n          break;\n        case 16:\n          _context8.prev = 16;\n          _context8.t0 = _context8[\"catch\"](0);\n          console.error(\"Error updating referral schema:\", _context8.t0);\n        case 19:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[0, 16]]);\n  }));\n  return function updateReferralSchema(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar getReferAll = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var allReferrals;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          _context9.next = 3;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 3:\n          allReferrals = _context9.sent;\n          if (!(!allReferrals || allReferrals.length === 0)) {\n            _context9.next = 6;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.json({\n            message: 'No referral data found'\n          }));\n        case 6:\n          return _context9.abrupt(\"return\", res.json({\n            referrals: allReferrals\n          }));\n        case 9:\n          _context9.prev = 9;\n          _context9.t0 = _context9[\"catch\"](0);\n          console.error(_context9.t0);\n          return _context9.abrupt(\"return\", res.status(500).json({\n            error: 'Internal server error'\n          }));\n        case 13:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 9]]);\n  }));\n  return function getReferAll(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar getAgentAmount = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var userId, referral, agentAmount;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          userId = req.userID;\n          _context10.prev = 1;\n          _context10.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context10.sent;\n          if (referral) {\n            _context10.next = 7;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.status(404).json({\n            message: 'Referral not found'\n          }));\n        case 7:\n          // Get the agent amount from the referral\n          agentAmount = referral.agentAmount; // Send the agent amount in the response\n          res.json({\n            AgentAmount: agentAmount\n          });\n          _context10.next = 15;\n          break;\n        case 11:\n          _context10.prev = 11;\n          _context10.t0 = _context10[\"catch\"](1);\n          // Handle errors and return a 500 Internal Server Error response\n          console.error('Error:', _context10.t0);\n          res.status(500).json({\n            error: 'Internal Server Error'\n          });\n        case 15:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[1, 11]]);\n  }));\n  return function getAgentAmount(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\n//export const getAgent Amount to withdraw money  =async\n\nvar fetchReferralCounts = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var userId, referral, level1Count, level2Count, level3Count, level4Count, _iterator, _step, refereeId, user, totalCount;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          userId = req.userID;\n          _context11.prev = 1;\n          _context11.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context11.sent;\n          if (referral) {\n            _context11.next = 7;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(404).json({\n            error: \"No referral found for the user\"\n          }));\n        case 7:\n          level1Count = 0;\n          level2Count = 0;\n          level3Count = 0;\n          level4Count = 0;\n          _iterator = _createForOfIteratorHelper(referral.referee);\n          _context11.prev = 12;\n          _iterator.s();\n        case 14:\n          if ((_step = _iterator.n()).done) {\n            _context11.next = 35;\n            break;\n          }\n          refereeId = _step.value;\n          _context11.next = 18;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(refereeId);\n        case 18:\n          user = _context11.sent;\n          if (user) {\n            _context11.next = 21;\n            break;\n          }\n          return _context11.abrupt(\"continue\", 33);\n        case 21:\n          _context11.t0 = user.level;\n          _context11.next = _context11.t0 === 1 ? 24 : _context11.t0 === 2 ? 26 : _context11.t0 === 3 ? 28 : _context11.t0 === 4 ? 30 : 32;\n          break;\n        case 24:\n          level1Count++;\n          return _context11.abrupt(\"break\", 33);\n        case 26:\n          level2Count++;\n          return _context11.abrupt(\"break\", 33);\n        case 28:\n          level3Count++;\n          return _context11.abrupt(\"break\", 33);\n        case 30:\n          level4Count++;\n          return _context11.abrupt(\"break\", 33);\n        case 32:\n          return _context11.abrupt(\"break\", 33);\n        case 33:\n          _context11.next = 14;\n          break;\n        case 35:\n          _context11.next = 40;\n          break;\n        case 37:\n          _context11.prev = 37;\n          _context11.t1 = _context11[\"catch\"](12);\n          _iterator.e(_context11.t1);\n        case 40:\n          _context11.prev = 40;\n          _iterator.f();\n          return _context11.finish(40);\n        case 43:\n          totalCount = level1Count + level2Count + level3Count + level4Count;\n          return _context11.abrupt(\"return\", res.json({\n            \"totalInvites\": totalCount,\n            \"level 1 Count\": level1Count,\n            \"level 2 Count\": level2Count,\n            \"level 3 Count\": level3Count,\n            \"level 4 Count\": level4Count\n          }));\n        case 47:\n          _context11.prev = 47;\n          _context11.t2 = _context11[\"catch\"](1);\n          console.error(\"Error fetching referral counts:\", _context11.t2);\n          return _context11.abrupt(\"return\", res.status(500).json({\n            error: \"Failed to fetch referral counts\"\n          }));\n        case 51:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[1, 47], [12, 37, 40, 43]]);\n  }));\n  return function fetchReferralCounts(_x21, _x22) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar invitedToday = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var userId, referral, today, todayDateString, refereeDetailsToday, _iterator2, _step2, refereeId, user, registrationDate, registrationDateString;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          userId = req.userID;\n          _context12.prev = 1;\n          _context12.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context12.sent;\n          if (referral) {\n            _context12.next = 7;\n            break;\n          }\n          return _context12.abrupt(\"return\", res.status(404).json({\n            error: \"No referral found for the user\"\n          }));\n        case 7:\n          // Fetch details for referees registered today\n          today = new Date();\n          todayDateString = today.toISOString().split('T')[0]; // Get today's date in string format (YYYY-MM-DD)\n          refereeDetailsToday = [];\n          _iterator2 = _createForOfIteratorHelper(referral.referee);\n          _context12.prev = 11;\n          _iterator2.s();\n        case 13:\n          if ((_step2 = _iterator2.n()).done) {\n            _context12.next = 25;\n            break;\n          }\n          refereeId = _step2.value;\n          _context12.next = 17;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(refereeId);\n        case 17:\n          user = _context12.sent;\n          if (user) {\n            _context12.next = 20;\n            break;\n          }\n          return _context12.abrupt(\"continue\", 23);\n        case 20:\n          // Check if the user's registration date is today\n          registrationDate = new Date(user.createdAt);\n          registrationDateString = registrationDate.toISOString().split('T')[0];\n          if (registrationDateString === todayDateString) {\n            refereeDetailsToday.push({\n              User: user._id,\n              level: user.level,\n              registrationDate: user.createdAt\n            });\n          }\n        case 23:\n          _context12.next = 13;\n          break;\n        case 25:\n          _context12.next = 30;\n          break;\n        case 27:\n          _context12.prev = 27;\n          _context12.t0 = _context12[\"catch\"](11);\n          _iterator2.e(_context12.t0);\n        case 30:\n          _context12.prev = 30;\n          _iterator2.f();\n          return _context12.finish(30);\n        case 33:\n          return _context12.abrupt(\"return\", res.json(refereeDetailsToday));\n        case 36:\n          _context12.prev = 36;\n          _context12.t1 = _context12[\"catch\"](1);\n          console.error(\"Error fetching referral details for today:\", _context12.t1);\n          return _context12.abrupt(\"return\", res.status(500).json({\n            error: \"Failed to fetch referral details for today\"\n          }));\n        case 40:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[1, 36], [11, 27, 30, 33]]);\n  }));\n  return function invitedToday(_x23, _x24) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar todayIncome = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res) {\n    var userId, referral, currentDate, currentDay, currentMonth, currentYear, dailyEarnings, _iterator3, _step3, dailyEarn, totalEarnings;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          userId = req.userID;\n          _context13.prev = 1;\n          _context13.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context13.sent;\n          if (referral) {\n            _context13.next = 7;\n            break;\n          }\n          return _context13.abrupt(\"return\", res.status(404).json({\n            error: \"No referral found for the user\"\n          }));\n        case 7:\n          // Calculate daily earnings for the user\n          currentDate = new Date();\n          currentDay = currentDate.getDate();\n          currentMonth = currentDate.getMonth() + 1; // Month is zero-based, so add 1\n          currentYear = currentDate.getFullYear();\n          dailyEarnings = {};\n          _iterator3 = _createForOfIteratorHelper(referral.dailyEarnings);\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              dailyEarn = _step3.value;\n              if (dailyEarn.day === currentDay && dailyEarn.month === currentMonth && dailyEarn.year === currentYear) {\n                // Calculate total earnings for the day\n                totalEarnings = dailyEarn.earnings.reduce(function (acc, earnings) {\n                  return acc + earnings;\n                }, 0);\n                dailyEarnings[currentDate.toISOString().split('T')[0]] = totalEarnings;\n              }\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n          return _context13.abrupt(\"return\", res.json(dailyEarnings));\n        case 17:\n          _context13.prev = 17;\n          _context13.t0 = _context13[\"catch\"](1);\n          console.error(\"Error fetching today's income:\", _context13.t0);\n          return _context13.abrupt(\"return\", res.status(500).json({\n            error: \"Failed to fetch today's income\"\n          }));\n        case 21:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[1, 17]]);\n  }));\n  return function todayIncome(_x25, _x26) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n//retrieve the latest 5 entries from the dailyEarnings \nvar incomeDetails = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res) {\n    var userId, referral, earningsByDate, uniqueEarnings, latestEarnings;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          userId = req.userID;\n          _context14.prev = 1;\n          _context14.next = 4;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referrer: userId\n          });\n        case 4:\n          referral = _context14.sent;\n          if (referral) {\n            _context14.next = 7;\n            break;\n          }\n          return _context14.abrupt(\"return\", res.status(404).json({\n            error: \"No referral found for the user\"\n          }));\n        case 7:\n          // Aggregate earnings by date\n          earningsByDate = new Map();\n          referral.dailyEarnings.forEach(function (earning) {\n            var date = new Date(earning.year, earning.month - 1, earning.day).toDateString();\n            if (earningsByDate.has(date)) {\n              // Add earnings to existing date entry\n              earningsByDate.get(date).earnings += earning.earnings.reduce(function (acc, curr) {\n                return acc + curr;\n              }, 0);\n            } else {\n              // Create new date entry\n              earningsByDate.set(date, {\n                day: earning.day,\n                month: earning.month,\n                year: earning.year,\n                earnings: earning.earnings.reduce(function (acc, curr) {\n                  return acc + curr;\n                }, 0)\n              });\n            }\n          });\n\n          // Convert map values to array\n          uniqueEarnings = Array.from(earningsByDate.values()); // Sort the earnings by date in descending order\n          uniqueEarnings.sort(function (a, b) {\n            var dateA = new Date(a.year, a.month - 1, a.day);\n            var dateB = new Date(b.year, b.month - 1, b.day);\n            return dateB - dateA;\n          });\n\n          // Get the latest 5 earnings\n          latestEarnings = uniqueEarnings.slice(0, 5);\n          return _context14.abrupt(\"return\", res.json(latestEarnings));\n        case 15:\n          _context14.prev = 15;\n          _context14.t0 = _context14[\"catch\"](1);\n          console.error(\"Error fetching income details:\", _context14.t0);\n          return _context14.abrupt(\"return\", res.status(500).json({\n            error: \"Failed to fetch income details\"\n          }));\n        case 19:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[1, 15]]);\n  }));\n  return function incomeDetails(_x27, _x28) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/refferalController.js?");

/***/ }),

/***/ "./controllers/supportController.js":
/*!******************************************!*\
  !*** ./controllers/supportController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chatWithUs: () => (/* binding */ chatWithUs),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   writeUsAt: () => (/* binding */ writeUsAt)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_supportCare_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/supportCare.js */ \"./models/supportCare.js\");\n/* harmony import */ var mailparser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mailparser */ \"mailparser\");\n/* harmony import */ var mailparser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mailparser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var imap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! imap */ \"imap\");\n/* harmony import */ var imap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(imap__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_4__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_4___default().config();\n\n// Function to process incoming emails\nfunction processIncomingEmail(_x) {\n  return _processIncomingEmail.apply(this, arguments);\n} // Function to save email to the database (example)\nfunction _processIncomingEmail() {\n  _processIncomingEmail = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(email) {\n    var currentDate, emailDate;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          currentDate = new Date();\n          emailDate = new Date(email.date); // Check if the email date is today or later\n          if (!(emailDate >= currentDate)) {\n            _context5.next = 6;\n            break;\n          }\n          _context5.next = 6;\n          return saveEmailToDatabase(email);\n        case 6:\n          _context5.next = 8;\n          return sendAutoResponse(email.from.value[0].address);\n        case 8:\n          console.log('Auto-response sent to:', email.from.value[0].address);\n          _context5.next = 14;\n          break;\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.error('Error processing email:', _context5.t0);\n        case 14:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 11]]);\n  }));\n  return _processIncomingEmail.apply(this, arguments);\n}\nfunction saveEmailToDatabase(_x2) {\n  return _saveEmailToDatabase.apply(this, arguments);\n} // Function to send auto-response\nfunction _saveEmailToDatabase() {\n  _saveEmailToDatabase = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(email) {\n    var emailData, newSupport;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          // Extract relevant data from the email object\n          // const user = email.from.value[0].address;\n          emailData = {\n            email: email.from.text,\n            name: email.from.value[0].name || '',\n            support: email.subject\n          }; // Create a new instance of the Support model\n          newSupport = new _models_supportCare_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](emailData); // Save the support data to the database\n          _context6.next = 5;\n          return newSupport.save();\n        case 5:\n          console.log('Email saved to the database:', emailData);\n          _context6.next = 12;\n          break;\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.error('Error saving email to database:', _context6.t0);\n          throw _context6.t0;\n        case 12:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 8]]);\n  }));\n  return _saveEmailToDatabase.apply(this, arguments);\n}\nfunction sendAutoResponse(_x3) {\n  return _sendAutoResponse.apply(this, arguments);\n} // Setup IMAP configuration\nfunction _sendAutoResponse() {\n  _sendAutoResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(senderEmail) {\n    var transporter, mailOptions;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n            // Setup your email provider here (e.g., Gmail, Outlook, etc.)\n            service: 'Gmail',\n            auth: {\n              user: \"flytest62@gmail.com\",\n              // Your email address\n              pass: \"ilpickgxqeeleexn\"\n              // pass: process.env.NODEMAILER_PASSWORD // Your email password\n            }\n          });\n          mailOptions = {\n            from: \"flytest62@gmail.com\",\n            // Sender email address\n            to: senderEmail,\n            // Recipient email address (sender's email)\n            subject: 'Auto-response: Email Received',\n            text: 'Thank you for contacting us. We have received your email and will get back to you as soon as possible.'\n          };\n          _context7.next = 4;\n          return transporter.sendMail(mailOptions);\n        case 4:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _sendAutoResponse.apply(this, arguments);\n}\nvar imapConfig = {\n  user: \"flytest62@gmail.com\",\n  // Your application's email address\n  pass: \"nodeflyweis@742#\",\n  // password: process.env.NODEMAILER_PASSWORD, // Your email password\n  host: 'imap.gmail.com',\n  // IMAP server host\n  port: 993,\n  // IMAP port (993 for SSL)\n  tls: true // Use TLS\n};\n\n// Connect to the IMAP server\nvar imap = new (imap__WEBPACK_IMPORTED_MODULE_3___default())(imapConfig);\n\n// Listen for new emails\nimap.once('ready', function () {\n  imap.openBox('INBOX', false, function (err, box) {\n    if (err) {\n      console.error('Error opening INBOX:', err);\n      return;\n    }\n    imap.on('mail', /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(numNewMsgs) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Fetch and process new emails\n              imap.search(['UNSEEN'], function (searchErr, searchResults) {\n                if (searchErr) {\n                  console.error('Error searching for new emails:', searchErr);\n                  return;\n                }\n                var fetch = imap.fetch(searchResults, {\n                  bodies: ''\n                });\n                fetch.on('message', function (msg) {\n                  msg.on('body', function (stream) {\n                    (0,mailparser__WEBPACK_IMPORTED_MODULE_2__.simpleParser)(stream, /*#__PURE__*/function () {\n                      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(parseErr, parsedEmail) {\n                        return _regeneratorRuntime().wrap(function _callee$(_context) {\n                          while (1) switch (_context.prev = _context.next) {\n                            case 0:\n                              if (!parseErr) {\n                                _context.next = 3;\n                                break;\n                              }\n                              console.error('Error parsing email:', parseErr);\n                              return _context.abrupt(\"return\");\n                            case 3:\n                              processIncomingEmail(parsedEmail);\n                            case 4:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }, _callee);\n                      }));\n                      return function (_x5, _x6) {\n                        return _ref2.apply(this, arguments);\n                      };\n                    }());\n                  });\n                });\n                fetch.once('end', function () {\n                  // Mark fetched emails as read\n                  imap.setFlags(searchResults, ['\\\\Seen'], function (err) {\n                    if (err) {\n                      console.error('Error marking emails as read:', err);\n                      return;\n                    }\n                  });\n                });\n              });\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x4) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  });\n});\nimap.once('error', function (err) {\n  console.error('IMAP error:', err);\n  // You can handle the error here, e.g., send an email to the admin\n});\nimap.once('end', function () {\n  console.log('IMAP connection ended');\n  // You can handle the end of the connection here\n});\n\n// Start listening for new emails\n// imap.connect();   //uncomment it when we got email 16 password\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (imap);\nvar writeUsAt = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          res.json({\n            email: \"fiewin.recharge@support.com\"\n          }); //what ever the email user write it will save above i code \n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function writeUsAt(_x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar chatWithUs = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          res.json({\n            message: \"let Start the chat\",\n            email: \"https://wa.me/991125387\"\n          });\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function chatWithUs(_x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/supportController.js?");

/***/ }),

/***/ "./controllers/trasactionController.js":
/*!*********************************************!*\
  !*** ./controllers/trasactionController.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecordTransactionAll: () => (/* binding */ RecordTransactionAll),\n/* harmony export */   createOrder: () => (/* binding */ createOrder),\n/* harmony export */   helpGPay: () => (/* binding */ helpGPay),\n/* harmony export */   helpPaytm: () => (/* binding */ helpPaytm),\n/* harmony export */   helpPhonePay: () => (/* binding */ helpPhonePay),\n/* harmony export */   paymentCallBack: () => (/* binding */ paymentCallBack),\n/* harmony export */   paymentCancel: () => (/* binding */ paymentCancel),\n/* harmony export */   renderProductPage: () => (/* binding */ renderProductPage),\n/* harmony export */   withdrawRequest: () => (/* binding */ withdrawRequest)\n/* harmony export */ });\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/game.js */ \"./models/game.js\");\n/* harmony import */ var razorpay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! razorpay */ \"razorpay\");\n/* harmony import */ var razorpay__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(razorpay__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/transaction.js */ \"./models/transaction.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n //add user Wallet update\n\nvar _process$env = process.env,\n  RAZORPAY_ID_KEY = \"rzp_test_ddRVm5q6Bv9Ppg\",\n  RAZORPAY_SECRET_KEY = \"OHPcnaTW2bmbw25ejiyExf1s\";\n\n\nvar razorpayInstance = new (razorpay__WEBPACK_IMPORTED_MODULE_2___default())({\n  key_id: RAZORPAY_ID_KEY,\n  key_secret: RAZORPAY_SECRET_KEY\n});\nvar createOrder = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var userId, amount, withoutAmountTax, user, tax, options;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.userID;\n          amount = req.body.amount;\n          withoutAmountTax = amount;\n          _context2.prev = 3;\n          _context2.next = 6;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(userId);\n        case 6:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 9;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 9:\n          if (!(amount < 35)) {\n            _context2.next = 11;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).json({\n            message: 'pleae enter the amount min 35 '\n          }));\n        case 11:\n          if (amount >= 35 && amount <= 200000) {\n            if (amount >= 1000) {\n              amount += 100;\n            } else if (amount >= 2000) {\n              amount += 200;\n            } else if (amount >= 5000) {\n              amount += 500;\n            } else if (amount >= 10000) {\n              amount += 1000;\n            }\n            tax = amount * 0.03;\n            amount = amount - tax;\n          }\n          amount = amount * 100;\n          options = {\n            amount: amount,\n            currency: 'INR',\n            receipt: \"TXN\" + Date.now()\n          }; // Create the order using Razorpay API\n          razorpayInstance.orders.create(options, /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(err, order) {\n              var newTransaction, savedTransaction;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!err) {\n                      _context.next = 3;\n                      break;\n                    }\n                    // Handle error if order creation fails\n                    console.error(\"Error creating order:\", err);\n                    return _context.abrupt(\"return\", res.status(400).json({\n                      success: false,\n                      msg: 'Something went wrong!'\n                    }));\n                  case 3:\n                    console.log(\"order#  \", order);\n                    // id: 'order_O1FBKThVXo2fk3',\n                    // entity: 'order',\n                    // amount: 29002,\n                    // amount_paid: 0,\n                    // amount_due: 29002,\n                    // currency: 'INR',\n                    // receipt: 'TXN1713696284538',\n                    // offer_id: null,\n                    // status: 'created',\n                    // attempts: 0,\n                    // notes: [],\n                    // created_at: 1713696285\n                    // Update payment with the online transaction order ID\n                    newTransaction = new _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n                      createdOrderId: order.id,\n                      user: userId,\n                      // Associate the transaction with the user by providing the user ID\n                      amount: amount,\n                      //into multiply of 100\n                      withoutTaxAmount: withoutAmountTax,\n                      currency: order.currency,\n                      receipt: order.receipt,\n                      status: order.status\n                    }); // Save the new transaction to the database\n                    _context.next = 7;\n                    return newTransaction.save();\n                  case 7:\n                    savedTransaction = _context.sent;\n                    // Send success response with order details\n                    res.status(200).json({\n                      success: true,\n                      _id: savedTransaction._id,\n                      msg: 'Order Created....',\n                      order_id: order.id,\n                      amount: amount,\n                      key_id: RAZORPAY_ID_KEY,\n                      name: user.name\n                    });\n                  case 9:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x3, _x4) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n          _context2.next = 21;\n          break;\n        case 17:\n          _context2.prev = 17;\n          _context2.t0 = _context2[\"catch\"](3);\n          console.error(\"Error creating order:\", _context2.t0);\n          res.status(500).json({\n            success: false,\n            error: _context2.t0.message\n          });\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 17]]);\n  }));\n  return function createOrder(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar renderProductPage = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var transactionId, payment;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          transactionId = req.params.transactionId;\n          console.log(\"   ->\");\n          // Check if the transactionId is a special case\n          // if (transactionId === \"helpPhonePay\") {\n          //     // Handle the special case here\n          //     return res.json({ success: false, message: \"Help page for PhonePay\" });\n          // }\n\n          // Attempt to find the transaction by its ObjectId\n          _context3.next = 5;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(transactionId).populate('user');\n        case 5:\n          payment = _context3.sent;\n          if (payment) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).json({\n            success: false,\n            error: \"Transaction Id not found\"\n          }));\n        case 8:\n          // Render the 'product' EJS template with payment data\n          res.render('product', {\n            payments: payment\n          }); // Assuming 'payment' is the variable used in the 'product' template\n          _context3.next = 15;\n          break;\n        case 11:\n          _context3.prev = 11;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error(\"Error:\", _context3.t0);\n          // Send an error response to the client\n          res.status(500).send('Internal Server Error');\n        case 15:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 11]]);\n  }));\n  return function renderProductPage(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar paymentCallBack = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var _req$body, razorpay_signature, razorpay_payment_id, razorpay_order_id, transactionId, payment, string, generated_signature, newGame;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$body = req.body, razorpay_signature = _req$body.razorpay_signature, razorpay_payment_id = _req$body.razorpay_payment_id, razorpay_order_id = _req$body.razorpay_order_id;\n          transactionId = req.params.transactionId;\n          console.log(\"     ->   \", req.body);\n          _context4.prev = 3;\n          _context4.next = 6;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(transactionId).populate('user');\n        case 6:\n          payment = _context4.sent;\n          // Populate the user field\n          // console.log(\"@#@  \",payment);\n          string = razorpay_order_id + \"|\" + razorpay_payment_id; // Concatenate order_id and razorpay_payment_id with a \"|\"\n          generated_signature = crypto__WEBPACK_IMPORTED_MODULE_3___default().createHmac('sha256', RAZORPAY_SECRET_KEY).update(string).digest(\"hex\");\n          console.log(\"Generated Signature:\", generated_signature);\n          console.log(\"Razorpay Signature:\", razorpay_signature);\n          if (!(generated_signature === razorpay_signature)) {\n            _context4.next = 30;\n            break;\n          }\n          console.log('Payment successful');\n          payment.user.wallet = payment.user.wallet + payment.amount; //update user wallet\n          newGame = new _models_game_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            user: payment.user._id,\n            // Assuming you want to associate the game with the user who made the payment\n            result: payment.amount,\n            gameType: \"Transaction\"\n          });\n          _context4.next = 17;\n          return newGame.save();\n        case 17:\n          payment.razorpay_order_id = razorpay_order_id;\n          payment.razorpay_payment_id = razorpay_payment_id;\n          payment.razorpay_signature = razorpay_signature;\n          payment.status = \"successful\";\n          // Save the updated payment object\n          _context4.next = 23;\n          return payment.save();\n        case 23:\n          _context4.next = 25;\n          return newGame.save();\n        case 25:\n          console.log(\"@#@  \", payment);\n          console.log(\"**->  \", newGame);\n          return _context4.abrupt(\"return\", res.json({\n            success: true,\n            message: \"Transaction successfully completed\"\n          }));\n        case 30:\n          payment.razorpay_order_id = razorpay_order_id;\n          payment.razorpay_payment_id = razorpay_payment_id;\n          payment.razorpay_signature = razorpay_signature;\n          payment.user.games;\n          payment.status = \"failed\";\n          // Save the updated payment object\n          _context4.next = 37;\n          return payment.save();\n        case 37:\n          console.log('Payment failed: Signature mismatch');\n          return _context4.abrupt(\"return\", res.json({\n            success: false,\n            message: \"Transaction failed. Signature mismatch\"\n          }));\n        case 39:\n          _context4.next = 45;\n          break;\n        case 41:\n          _context4.prev = 41;\n          _context4.t0 = _context4[\"catch\"](3);\n          console.log(\"Error:\", _context4.t0.message);\n          return _context4.abrupt(\"return\", res.json({\n            success: false,\n            message: \"Transaction failed. Internal server error\"\n          }));\n        case 45:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[3, 41]]);\n  }));\n  return function paymentCallBack(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar paymentCancel = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var id;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.paymentId;\n          _context5.prev = 1;\n          return _context5.abrupt(\"return\", res.json({\n            success: false,\n            message: \"FAILLLL\"\n          }));\n        case 5:\n          _context5.prev = 5;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.log(_context5.t0.message);\n        case 8:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 5]]);\n  }));\n  return function paymentCancel(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar RecordTransactionAll = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var userId, transactions, formattedTransactions;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          userId = req.userID;\n          console.log(\"sss->\", userId);\n          // return res.json({ success: true, transactions: \"formattedTransactions\" });\n          _context6.prev = 2;\n          _context6.next = 5;\n          return _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n            user: userId\n          });\n        case 5:\n          transactions = _context6.sent;\n          if (!(!transactions || transactions.length === 0)) {\n            _context6.next = 8;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).json({\n            success: false,\n            message: 'No transactions found for the user'\n          }));\n        case 8:\n          // Format timestamps\n          formattedTransactions = transactions.map(function (transaction) {\n            return {\n              createdOrderId: transaction.createdOrderId,\n              razorpay_order_id: transaction.razorpay_order_id,\n              razorpay_payment_id: transaction.razorpay_payment_id,\n              razorpay_signature: transaction.razorpay_signature,\n              amount: transaction.amount,\n              currency: transaction.currency,\n              status: transaction.status,\n              product: transaction.product,\n              receipt: transaction.receipt,\n              // Format timestamp to include hours, minutes, day, month, and year\n              timestamp: transaction.timestamps.toLocaleString('en-US', {\n                hour12: true,\n                hour: 'numeric',\n                minute: 'numeric',\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              })\n            };\n          }); // Return the formatted transactions\n          return _context6.abrupt(\"return\", res.json({\n            success: true,\n            transactions: formattedTransactions\n          }));\n        case 12:\n          _context6.prev = 12;\n          _context6.t0 = _context6[\"catch\"](2);\n          console.error('Error:', _context6.t0);\n          return _context6.abrupt(\"return\", res.status(500).json({\n            success: false,\n            message: 'Internal Server Error'\n          }));\n        case 16:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[2, 12]]);\n  }));\n  return function RecordTransactionAll(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar withdrawRequest = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var userId, _req$body2, amount, transType, newTransaction, savedTransaction;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          userId = req.userID;\n          _req$body2 = req.body, amount = _req$body2.amount, transType = _req$body2.transType;\n          _context7.prev = 2;\n          // Create a new transaction record for withdrawal\n          newTransaction = new _models_transaction_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n            user: userId,\n            amount: amount,\n            currency: 'INR',\n            // Assuming the currency is Indian Rupees\n            status: 'pending',\n            // Assuming the status of withdrawal request is initially 'confirm'\n            product: {\n              name: 'withdraw',\n              description: 'Withdrawal from Game FastWin'\n            },\n            receipt: \"TXN\" + Date.now(),\n            transactionType: transType\n          }); // Save the new transaction record to the database\n          _context7.next = 6;\n          return newTransaction.save();\n        case 6:\n          savedTransaction = _context7.sent;\n          // console.log(\"user   ->\",savedTransaction.user)\n\n          // Send success response with the saved transaction details\n          res.status(200).json({\n            success: true,\n            message: 'Withdrawal request created successfully',\n            transaction: savedTransaction\n          });\n          _context7.next = 14;\n          break;\n        case 10:\n          _context7.prev = 10;\n          _context7.t0 = _context7[\"catch\"](2);\n          console.error(\"Error creating withdrawal request:\", _context7.t0);\n          // Send an error response to the client\n          res.status(500).json({\n            success: false,\n            error: _context7.t0.message\n          });\n        case 14:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[2, 10]]);\n  }));\n  return function withdrawRequest(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n// create video that how to procced\n// 1\n\nvar helpPhonePay = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          res.json({\n            message: \"Recharge Using Phone Pe\",\n            videoLink: \"...youTube\"\n          });\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function helpPhonePay(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\n// 2\nvar helpGPay = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          res.json({\n            message: \"Recharge Using  GPay\",\n            videoLink: \"...youTube\"\n          });\n        case 1:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function helpGPay(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n// 3\nvar helpPaytm = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          res.json({\n            message: \"Recharge Using   PayTm\",\n            videoLink: \"...youTube\"\n          });\n        case 1:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return function helpPaytm(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/trasactionController.js?");

/***/ }),

/***/ "./controllers/userController.js":
/*!***************************************!*\
  !*** ./controllers/userController.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addWallet: () => (/* binding */ addWallet),\n/* harmony export */   followUs: () => (/* binding */ followUs),\n/* harmony export */   headProfile: () => (/* binding */ headProfile),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   orderRecord: () => (/* binding */ orderRecord),\n/* harmony export */   resendOtp: () => (/* binding */ resendOtp),\n/* harmony export */   sendOtp: () => (/* binding */ sendOtp),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   transactionWalletGame: () => (/* binding */ transactionWalletGame),\n/* harmony export */   updateName: () => (/* binding */ updateName),\n/* harmony export */   updatePassword: () => (/* binding */ updatePassword),\n/* harmony export */   userProfile: () => (/* binding */ userProfile),\n/* harmony export */   verifyOtpAndRegisterUser: () => (/* binding */ verifyOtpAndRegisterUser)\n/* harmony export */ });\n/* harmony import */ var twilio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! twilio */ \"twilio\");\n/* harmony import */ var twilio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(twilio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _models_game_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/game.js */ \"./models/game.js\");\n/* harmony import */ var _models_refferal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/refferal.js */ \"./models/refferal.js\");\n/* harmony import */ var _server_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../server.js */ \"./server.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_2___default().config();\nvar twilioClient = twilio__WEBPACK_IMPORTED_MODULE_0___default()(\"AC802904f50e8f4256b7c2c7f375185c70\", \"58f9c19fabf98f96544acb16421f6c54\");\n// console.log(\"   -----   \",twilioClient)\nvar sendOtp = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var phoneNumber, generatedOTP, user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          phoneNumber = req.body.phoneNumber;\n          _context.prev = 1;\n          // Generate random OTP\n          generatedOTP = Math.floor(100000 + Math.random() * 900000); // Save OTP to user document if user exists\n          _context.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n            phoneNumber: phoneNumber\n          }, {\n            $set: {\n              otp: {\n                code: generatedOTP.toString(),\n                createdAt: new Date()\n              }\n            }\n          }, {\n            \"new\": true\n          });\n        case 5:\n          user = _context.sent;\n          if (user) {\n            _context.next = 10;\n            break;\n          }\n          _context.next = 9;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            phoneNumber: phoneNumber\n          });\n        case 9:\n          user = _context.sent;\n        case 10:\n          _context.next = 12;\n          return twilioClient.messages.create({\n            body: \"Your OTP is: \".concat(generatedOTP),\n            from: \"+16592082991\",\n            to: phoneNumber\n          });\n        case 12:\n          return _context.abrupt(\"return\", res.json({\n            user: user,\n            message: 'OTP sent successfully'\n          }));\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](1);\n          console.error(_context.t0);\n          throw new Error('Failed to send OTP');\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 15]]);\n  }));\n  return function sendOtp(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar verifyOtpAndRegisterUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var _req$body, phoneNumber, otp, password, referenceCode, confirm_password, user, referrer;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _req$body = req.body, phoneNumber = _req$body.phoneNumber, otp = _req$body.otp, password = _req$body.password, referenceCode = _req$body.referenceCode, confirm_password = _req$body.confirm_password;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            phoneNumber: phoneNumber,\n            'otp.code': otp\n          });\n        case 4:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          throw new Error('Invalid OTP');\n        case 7:\n          if (!referenceCode) {\n            _context2.next = 16;\n            break;\n          }\n          _context2.next = 10;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            referralCode: referenceCode\n          });\n        case 10:\n          referrer = _context2.sent;\n          user.referenceCode = referenceCode; //saving the referecode used by User\n          if (referrer) {\n            _context2.next = 14;\n            break;\n          }\n          throw new Error('Invalid reference code');\n        case 14:\n          _context2.next = 16;\n          return updateReferralSchema(referrer._id, user._id);\n        case 16:\n          if (!(confirm_password !== password)) {\n            _context2.next = 18;\n            break;\n          }\n          throw new Error('confirm_password does not match with password');\n        case 18:\n          // Update user's password\n          user.password = password;\n          // Update the lastLogin field to the current date\n          user.lastLogin = new Date();\n          _context2.next = 22;\n          return user.save();\n        case 22:\n          return _context2.abrupt(\"return\", res.json({\n            user: user,\n            message: 'User registered successfully'\n          }));\n        case 25:\n          _context2.prev = 25;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.error(_context2.t0);\n          return _context2.abrupt(\"return\", res.status(400).json({\n            error: _context2.t0.message\n          }));\n        case 29:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 25]]);\n  }));\n  return function verifyOtpAndRegisterUser(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar updateReferralSchema = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(referrerId, refereeId) {\n    var referral, currentDate, currentDay, currentMonth, currentYear, newReferral, dailyEarnings, refereeUser, referrer;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _models_refferal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n            referrer: referrerId\n          });\n        case 3:\n          referral = _context3.sent;\n          // const referralUser = await User.findOne(referrerId);\n          currentDate = new Date();\n          currentDay = currentDate.getDate();\n          currentMonth = currentDate.getMonth() + 1; // Month is zero-based, so add 1\n          currentYear = currentDate.getFullYear();\n          if (referral) {\n            _context3.next = 14;\n            break;\n          }\n          // If no referral document found, create a new one\n          newReferral = new _models_refferal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n            referrer: referrerId,\n            referee: [refereeId],\n            // Add the referee to the referee array\n            dailyEarnings: [{\n              day: currentDay,\n              month: currentMonth,\n              year: currentYear,\n              earnings: [100] // Assuming the default earnings for the current day is 100\n            }],\n            agentAmount: 100,\n            // Assuming a default amount of 100\n            createdAt: new Date()\n          });\n          _context3.next = 12;\n          return newReferral.save();\n        case 12:\n          _context3.next = 49;\n          break;\n        case 14:\n          // If referral document found, update the referee array\n          referral.referee.push(refereeId);\n\n          // 1. Update dailyEarnings.earnings\n          dailyEarnings = referral.dailyEarnings.find(function (dailyEarning) {\n            return dailyEarning.day === currentDay && dailyEarning.month === currentMonth && dailyEarning.year === currentYear;\n          }); // 3. Update the createdAt date of refereeId (assuming you want to update the createdAt field of the referee user)\n          _context3.next = 18;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(refereeId, {\n            createdAt: new Date()\n          });\n        case 18:\n          refereeUser = _context3.sent;\n          _context3.next = 21;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(referrerId);\n        case 21:\n          referrer = _context3.sent;\n          if (!dailyEarnings) {\n            _context3.next = 45;\n            break;\n          }\n          if (!referrer) {\n            _context3.next = 45;\n            break;\n          }\n          _context3.t0 = referrer.level;\n          _context3.next = _context3.t0 === 1 ? 27 : _context3.t0 === 2 ? 31 : _context3.t0 === 3 ? 35 : _context3.t0 === 4 ? 39 : 43;\n          break;\n        case 27:\n          dailyEarnings.earnings.push(100); // Update with appropriate amount based on level\n          referral.agentAmount += 100; // Update with appropriate amount based on level\n          refereeUser.level = 2;\n          return _context3.abrupt(\"break\", 44);\n        case 31:\n          dailyEarnings.earnings.push(100 * 0.40); // Update with appropriate amount based on level\n          referral.agentAmount += 100 * 0.40;\n          refereeUser.level = 3;\n          return _context3.abrupt(\"break\", 44);\n        case 35:\n          dailyEarnings.earnings.push(100 * 0.30); // Update with appropriate amount based on level\n          referral.agentAmount += 100 * 0.30;\n          refereeUser.level = 4;\n          return _context3.abrupt(\"break\", 44);\n        case 39:\n          dailyEarnings.earnings.push(100 * 0.20); // Update with appropriate amount based on level\n          referral.agentAmount += 100 * 0.20;\n          refereeUser.level = 4;\n          return _context3.abrupt(\"break\", 44);\n        case 43:\n          referral.agentAmount = 100;\n        case 44:\n          console.log(\"level  \", refereeUser.level);\n        case 45:\n          _context3.next = 47;\n          return refereeUser.save();\n        case 47:\n          _context3.next = 49;\n          return referral.save();\n        case 49:\n          console.log(\"Referral schema updated successfully\");\n          _context3.next = 56;\n          break;\n        case 52:\n          _context3.prev = 52;\n          _context3.t1 = _context3[\"catch\"](0);\n          console.error(\"Error updating referral schema:\", _context3.t1);\n          throw new Error('Failed to update referral schema');\n        case 56:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 52]]);\n  }));\n  return function updateReferralSchema(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar resendOtp = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var phoneNumber, user, generatedOTP;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          phoneNumber = req.body.phoneNumber;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            phoneNumber: phoneNumber\n          });\n        case 4:\n          user = _context4.sent;\n          if (user) {\n            _context4.next = 7;\n            break;\n          }\n          throw new Error('User not found');\n        case 7:\n          // Generate new OTP\n          generatedOTP = Math.floor(100000 + Math.random() * 900000); // Update OTP in user document\n          user.otp.code = generatedOTP.toString();\n          user.otp.createdAt = new Date();\n          _context4.next = 12;\n          return user.save();\n        case 12:\n          _context4.next = 14;\n          return twilioClient.messages.create({\n            body: \"Your new OTP is: \".concat(generatedOTP),\n            from: \"+15642343143\",\n            to: phoneNumber\n          });\n        case 14:\n          return _context4.abrupt(\"return\", res.json({\n            user: user,\n            message: 'OTP resent successfully'\n          }));\n        case 17:\n          _context4.prev = 17;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.error(_context4.t0);\n          throw new Error('Failed to resend OTP');\n        case 21:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 17]]);\n  }));\n  return function resendOtp(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar signIn = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var _req$body2, phoneNumber, password, user, updatedUser, token;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _req$body2 = req.body, phoneNumber = _req$body2.phoneNumber, password = _req$body2.password;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            phoneNumber: phoneNumber\n          });\n        case 4:\n          user = _context5.sent;\n          if (user) {\n            _context5.next = 9;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).send('Incorrect Credentials'));\n        case 9:\n          if (!(password === user.password)) {\n            _context5.next = 19;\n            break;\n          }\n          _context5.next = 12;\n          return trackLoginActivity(user);\n        case 12:\n          _context5.next = 14;\n          return updateDailyLoginStreak(user);\n        case 14:\n          updatedUser = _context5.sent;\n          // Create token\n          token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign({\n            userID: user._id\n          }, 'AIb6d35fvJM4O9pXqXQNla2jBCH9kuLz', {\n            expiresIn: '12h'\n          }); // Send token\n          return _context5.abrupt(\"return\", res.status(200).send(token));\n        case 19:\n          return _context5.abrupt(\"return\", res.status(400).send('Incorrect Credentials'));\n        case 20:\n          _context5.next = 26;\n          break;\n        case 22:\n          _context5.prev = 22;\n          _context5.t0 = _context5[\"catch\"](1);\n          console.log(_context5.t0);\n          return _context5.abrupt(\"return\", res.status(200).send(\"Something went wrong\"));\n        case 26:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 22]]);\n  }));\n  return function signIn(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n// Middleware for tracking login activity\nvar trackLoginActivity = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(user) {\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          // Update user's last login timestamp\n          user.lastLogin = new Date();\n          // Set user's status to active\n          user.status = 'active';\n          _context6.next = 5;\n          return user.save();\n        case 5:\n          _context6.next = 10;\n          break;\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.error('Error tracking login activity:', _context6.t0);\n        case 10:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 7]]);\n  }));\n  return function trackLoginActivity(_x11) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar updateDailyLoginStreak = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(user) {\n    var today, lastLogin;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          today = new Date();\n          today.setHours(0, 0, 0, 0);\n\n          // Get the last login date\n          lastLogin = user.lastLogin; // If the last login date is yesterday, update daily streaks\n          if (lastLogin && lastLogin.getDate() === today.getDate() - 1) {\n            // Increment streak if streak is continuous\n            if (user.dailyStreaks.length > 0 && user.dailyStreaks[user.dailyStreaks.length - 1].date.getTime() === today.getTime() - 1) {\n              user.dailyStreaks[user.dailyStreaks.length - 1].streak++;\n            } else {\n              // Otherwise, start a new streak\n              user.dailyStreaks.push({\n                date: today,\n                streak: 1\n              });\n            }\n          } else {\n            // If last login is not yesterday, reset streak\n            user.dailyStreaks = [{\n              date: today,\n              streak: 1\n            }];\n          }\n\n          // Update last login\n          user.lastLogin = today;\n\n          // Save user changes\n          _context7.next = 8;\n          return user.save();\n        case 8:\n          return _context7.abrupt(\"return\", user);\n        case 11:\n          _context7.prev = 11;\n          _context7.t0 = _context7[\"catch\"](0);\n          console.error('Error updating daily login streak:', _context7.t0);\n          throw _context7.t0;\n        case 15:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7, null, [[0, 11]]);\n  }));\n  return function updateDailyLoginStreak(_x12) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar logout = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var token, userId, user;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          // 1. Read the token from the request headers\n          token = req.headers.authorization;\n          userId = req.userID; // Find the user by userId\n          _context8.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context8.sent;\n          if (user) {\n            _context8.next = 7;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          user.lastLogin = new Date();\n          // 2. If no token is provided or token is blacklisted, return an unauthorized response\n          if (!(!token || _server_js__WEBPACK_IMPORTED_MODULE_6__.blacklistedTokens.has(token))) {\n            _context8.next = 10;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.status(401).send('Unauthorized,'));\n        case 10:\n          _context8.prev = 10;\n          // 3. Add the token to the blacklist to invalidate it\n          _server_js__WEBPACK_IMPORTED_MODULE_6__.blacklistedTokens.add(token);\n          // Clear the token from the client-side storage\n          res.clearCookie('token'); // Example for cookies, adjust for your storage mechanism\n\n          // 4. Return a success response indicating logout is successful\n          return _context8.abrupt(\"return\", res.status(200).send('Logout successful'));\n        case 16:\n          _context8.prev = 16;\n          _context8.t0 = _context8[\"catch\"](10);\n          // 5. If an error occurs, log it and return an internal server error response\n          console.log(_context8.t0);\n          return _context8.abrupt(\"return\", res.status(500).send('Internal Server Error'));\n        case 20:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8, null, [[10, 16]]);\n  }));\n  return function logout(_x13, _x14) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar addWallet = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var wallet, userId, user;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          wallet = req.body.wallet;\n          userId = req.userID;\n          _context9.prev = 2;\n          _context9.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 5:\n          user = _context9.sent;\n          if (user) {\n            _context9.next = 8;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 8:\n          user.wallet += wallet;\n          // Save the updated user\n          _context9.next = 11;\n          return user.save();\n        case 11:\n          // Send a success response\n          res.status(200).json({\n            message: 'Wallet balance updated successfully',\n            user: user\n          });\n          _context9.next = 18;\n          break;\n        case 14:\n          _context9.prev = 14;\n          _context9.t0 = _context9[\"catch\"](2);\n          // Handle any errors\n          console.error('Error adding wallet balance:', _context9.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 18:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[2, 14]]);\n  }));\n  return function addWallet(_x15, _x16) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n//USER_PROFILE \n\nvar updateName = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var userID, newName, user;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          userID = req.userID;\n          newName = req.body.name; // Assuming the new name is sent in the request body\n          _context10.prev = 2;\n          _context10.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userID);\n        case 5:\n          user = _context10.sent;\n          if (user) {\n            _context10.next = 8;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 8:\n          user.name = newName; // Update the name\n          _context10.next = 11;\n          return user.save();\n        case 11:\n          return _context10.abrupt(\"return\", res.status(200).json({\n            message: 'Name updated successfully'\n          }));\n        case 14:\n          _context10.prev = 14;\n          _context10.t0 = _context10[\"catch\"](2);\n          return _context10.abrupt(\"return\", res.status(500).json({\n            message: 'Internal server error'\n          }));\n        case 17:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10, null, [[2, 14]]);\n  }));\n  return function updateName(_x17, _x18) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar updatePassword = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req, res) {\n    var userID, newPassword, user;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          userID = req.userID;\n          newPassword = req.body.password; // Assuming the new password is sent in the request body\n          _context11.prev = 2;\n          _context11.next = 5;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userID);\n        case 5:\n          user = _context11.sent;\n          if (user) {\n            _context11.next = 8;\n            break;\n          }\n          return _context11.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 8:\n          user.password = newPassword; // Update the password\n          _context11.next = 11;\n          return user.save();\n        case 11:\n          return _context11.abrupt(\"return\", res.status(200).json({\n            message: 'Password updated successfully'\n          }));\n        case 14:\n          _context11.prev = 14;\n          _context11.t0 = _context11[\"catch\"](2);\n          return _context11.abrupt(\"return\", res.status(500).json({\n            message: 'Internal server error'\n          }));\n        case 17:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[2, 14]]);\n  }));\n  return function updatePassword(_x19, _x20) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar orderRecord = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res) {\n    var userId, gametype, games;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          userId = req.userID;\n          gametype = req.params.gametype;\n          _context12.prev = 2;\n          if (!gametype) {\n            _context12.next = 9;\n            break;\n          }\n          _context12.next = 6;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n            user: userId,\n            gameType: gametype\n          });\n        case 6:\n          games = _context12.sent;\n          _context12.next = 10;\n          break;\n        case 9:\n          // If gametype is not provided, return a message indicating no games were played by the user\n          games = [];\n        case 10:\n          if (!(games.length === 0)) {\n            _context12.next = 12;\n            break;\n          }\n          return _context12.abrupt(\"return\", res.status(404).json({\n            message: 'No this games played by the user'\n          }));\n        case 12:\n          return _context12.abrupt(\"return\", res.status(200).json({\n            games: games\n          }));\n        case 15:\n          _context12.prev = 15;\n          _context12.t0 = _context12[\"catch\"](2);\n          return _context12.abrupt(\"return\", res.status(500).json({\n            message: 'Internal server error'\n          }));\n        case 18:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12, null, [[2, 15]]);\n  }));\n  return function orderRecord(_x21, _x22) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar followUs = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res) {\n    var TelegramLink;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.prev = 0;\n          // Define the game instructions\n          TelegramLink = {\n            telegram: 'Fast WIn ',\n            description: \"LINK>>>>>>>......\",\n            telegramCommunity: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.  \"\n          };\n          return _context13.abrupt(\"return\", res.status(200).json(TelegramLink));\n        case 5:\n          _context13.prev = 5;\n          _context13.t0 = _context13[\"catch\"](0);\n          console.error('Error:', _context13.t0);\n          return _context13.abrupt(\"return\", res.status(500).json({\n            error: 'Internal Server Error'\n          }));\n        case 9:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13, null, [[0, 5]]);\n  }));\n  return function followUs(_x23, _x24) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar transactionWalletGame = /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res) {\n    var userId, games, gameData;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          userId = req.userID;\n          _context14.prev = 1;\n          _context14.next = 4;\n          return _models_game_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n            user: userId\n          });\n        case 4:\n          games = _context14.sent;\n          if (!(!games || games.length === 0)) {\n            _context14.next = 7;\n            break;\n          }\n          return _context14.abrupt(\"return\", res.json([]));\n        case 7:\n          // Map each game to extract required information\n          gameData = games.map(function (game) {\n            return {\n              gameType: game.gameType,\n              timing: new Date(parseInt(game._id.toString().substring(0, 8), 16) * 1000),\n              // Extracting timestamp from _id\n              money: game.money\n            };\n          }); // Return the game data in JSON format\n          res.json(gameData);\n          _context14.next = 15;\n          break;\n        case 11:\n          _context14.prev = 11;\n          _context14.t0 = _context14[\"catch\"](1);\n          // Handle errors and return a 500 Internal Server Error response\n          console.error('Error:', _context14.t0);\n          res.status(500).json({\n            error: 'Internal Server Error'\n          });\n        case 15:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14, null, [[1, 11]]);\n  }));\n  return function transactionWalletGame(_x25, _x26) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\n// export const getGamesByUserAndType = async (req, res) => {\n//     try {\n//         // Get the user's ID from the request\n//         const userId = req.userID;\n\n//         // Get the game type from the request\n//         const gameType = req.body.gameType;\n\n//         // Find the user by userID\n//         const user = await User.findById(userId);\n\n//         // Check if user exists\n//         if (!user) {\n//             return res.status(404).json({ message: 'User not found' });\n//         }\n\n//         // Find games for the user and gameType\n//         const games = await Game.find({\n//             user: userId,\n//             'gameType': gameType\n//         });\n//         console.log(\"   \", games)\n//         // Extract necessary game data\n//         const gamesData = games.map(game => {\n//             let point = game.updatedMoney - game.money; // Assuming point is the difference between updatedMoney and initial money\n//             // Adjust point to handle negative amounts\n//             if (point < 0) {\n//                 point = - (point); // Convert negative point to positive\n//             }\n//             return {\n//                 periodNumber: game.periodNumber,\n//                 guess: game.userGuess,\n//                 point: point,\n//                 result: game.result,\n//                 amount: game.money\n//             };\n//         });\n\n//         // Send the response with filtered games data\n//         res.json(gamesData);\n//     } catch (error) {\n//         // Handle errors\n//         console.error(error);\n//         res.status(500).json({ message: 'Internal server error' });\n//     }\n// }\n\n// export const getGamesByTypeHeadTail = async (req, res) => {\n//     try {\n\n//         const games = await Game.find({ gameType: 'headTail' });\n\n//         console.log(\"  \", games)\n//         // Extract necessary game data\n//         const gamesData = games.map(game => {\n//             return {\n//                 periodNumber: game.periodNumber,\n//                 select: game.userGuess,\n//                 point: (game.updatedMoney - game.money), // Assuming point is the difference between updatedMoney and initial money\n//                 result: game.result,\n//                 amount: game.money\n//             };\n//         });\n\n//         // Send the response with filtered games data\n//         res.json(gamesData);\n//     } catch (error) {\n//         // Handle errors\n//         console.error(error);\n//         res.status(500).json({ message: 'Internal server error' });\n//     }\n// }\n\nvar headProfile = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res) {\n    var userId, user, last8Digits;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          userId = req.userID;\n          _context15.prev = 1;\n          _context15.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context15.sent;\n          if (user) {\n            _context15.next = 7;\n            break;\n          }\n          return _context15.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Extract the last 8 digits of the user ID\n          last8Digits = userId.slice(-8);\n          console.log(\"--->\", user.profilePhoto);\n          res.json({\n            Name: user.name,\n            PhoneNumber: user.phoneNumber,\n            UserID: last8Digits,\n            profilePhoto: user.profilePhoto\n          });\n          _context15.next = 16;\n          break;\n        case 12:\n          _context15.prev = 12;\n          _context15.t0 = _context15[\"catch\"](1);\n          // Handle errors and return a 500 Internal Server Error response\n          console.error('Error:', _context15.t0);\n          res.status(500).json({\n            error: 'Internal Server Error'\n          });\n        case 16:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[1, 12]]);\n  }));\n  return function headProfile(_x27, _x28) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nvar userProfile = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(req, res) {\n    var userId, user, profilePhoto;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          userId = req.userID;\n          _context16.prev = 1;\n          _context16.next = 4;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(userId);\n        case 4:\n          user = _context16.sent;\n          if (user) {\n            _context16.next = 7;\n            break;\n          }\n          return _context16.abrupt(\"return\", res.status(404).json({\n            message: 'User not found'\n          }));\n        case 7:\n          // Update user's profile photo\n          profilePhoto = req.file.filename;\n          user.profilePhoto = profilePhoto;\n\n          // Save the updated user object\n          _context16.next = 11;\n          return user.save();\n        case 11:\n          // Respond with success message and updated user details\n          res.json({\n            message: 'Profile photo updated successfully',\n            user: user\n          });\n          _context16.next = 18;\n          break;\n        case 14:\n          _context16.prev = 14;\n          _context16.t0 = _context16[\"catch\"](1);\n          // Handle any errors\n          console.error('Error updating profile photo:', _context16.t0);\n          res.status(500).json({\n            message: 'Internal server error'\n          });\n        case 18:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16, null, [[1, 14]]);\n  }));\n  return function userProfile(_x29, _x30) {\n    return _ref16.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./controllers/userController.js?");

/***/ }),

/***/ "./middleware/adminMiddleware.js":
/*!***************************************!*\
  !*** ./middleware/adminMiddleware.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin)\n/* harmony export */ });\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Middleware to check if the user is an admin\n\nvar isAdmin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var user;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(req.userID);\n        case 2:\n          user = _context.sent;\n          if (!(user && user.isAdmin)) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", next());\n        case 5:\n          return _context.abrupt(\"return\", res.status(403).json({\n            success: false,\n            error: 'Unauthorized'\n          }));\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function isAdmin(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./middleware/adminMiddleware.js?");

/***/ }),

/***/ "./middleware/fileupload.middleware.js":
/*!*********************************************!*\
  !*** ./middleware/fileupload.middleware.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   upload: () => (/* binding */ upload)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_0__);\n\nvar storage = multer__WEBPACK_IMPORTED_MODULE_0___default().diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './uploads/');\n  },\n  filename: function filename(req, file, cb) {\n    cb(null, new Date().toISOString() + file.originalname);\n  }\n});\nvar upload = multer__WEBPACK_IMPORTED_MODULE_0___default()({\n  storage: storage\n});\n// .array('images', 10);\n\n//# sourceURL=webpack://2_game/./middleware/fileupload.middleware.js?");

/***/ }),

/***/ "./middleware/jwt.js":
/*!***************************!*\
  !*** ./middleware/jwt.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   updateStatus: () => (/* binding */ updateStatus)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _server_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server.js */ \"./server.js\");\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var cron__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cron */ \"cron\");\n/* harmony import */ var cron__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cron__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n// Define the update interval (1 week in milliseconds)\nvar ONE_WEEK_IN_MS = 7 * 24 * 60 * 60 * 1000; // 7 days * 24 hours * 60 minutes * 60 seconds * 1000 milliseconds\n\n// Scheduled job for updating user status periodically (1 week)\nvar job = new cron__WEBPACK_IMPORTED_MODULE_3__.CronJob('0 0 * * 0', function () {\n  updateStatus();\n});\n// Start the cron job\njob.start();\nvar jwtAuth = function jwtAuth(req, res, next) {\n  // 1. Read the token.\n  var token = req.headers['authorization'];\n\n  // console.log(token);\n  // 2. if no token, return the error.\n  if (!token) {\n    return res.status(401).send('Unauthorized');\n  }\n  // Check if token is blacklisted\n  if (_server_js__WEBPACK_IMPORTED_MODULE_1__.blacklistedTokens.has(token)) {\n    return res.status(401).send('Unauthorized ! Please login again');\n  }\n\n  // 3. check if token is valid.\n  try {\n    var payload = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token,\n    // process.env.SECRET_KEY\n    'AIb6d35fvJM4O9pXqXQNla2jBCH9kuLz');\n    req.userID = payload.userID;\n  } catch (err) {\n    // 4. return error.\n    if (err.name === 'TokenExpiredError') {\n      return res.status(401).send('Token expired! Please login again');\n    }\n    console.log(err);\n    return res.status(401).send('Unauthorized');\n  }\n  // 5. call next middleware\n  next();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (jwtAuth);\n\n// // Middleware for tracking login activity\n// export const trackLoginActivity = async (req, res, next) => {\n//   try {\n//     const userId=req.userID;\n//     const user = await User.findById(userId);\n//         if (!user) {\n//             return res.status(404).json({ success: false, message: 'User not found' });\n//         }\n\n//       // Update user's last login timestamp\n//       user.lastLogin = new Date();\n//       // Set user's status to active\n//       user.status = 'active';\n//       await user.save();\n//       next();\n//   } catch (error) {\n//       console.error('Error tracking login activity:', error);\n//       // Handle error\n//       next(error);\n//   }\n// };\n\n// Middleware for updating status based on last login timestamp\n\nvar updateStatus = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var inactiveUsers;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _models_userModel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n            lastLogin: {\n              $lt: new Date(Date.now() - ONE_WEEK_IN_MS)\n            },\n            status: 'active'\n          });\n        case 3:\n          inactiveUsers = _context2.sent;\n          // Update status of inactive users to 'inactive'\n          inactiveUsers.forEach( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(user) {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    user.status = 'inactive';\n                    _context.next = 3;\n                    return user.save();\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n          _context2.next = 10;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error('Error updating user status:', _context2.t0);\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function updateStatus() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n//# sourceURL=webpack://2_game/./middleware/jwt.js?");

/***/ }),

/***/ "./models/adminModel/adminAmount.js":
/*!******************************************!*\
  !*** ./models/adminModel/adminAmount.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar adminAmountSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  totalAmount: Number,\n  bettingAmount: Number,\n  commission: Number,\n  createdAt: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\n\n// Define the model for the admin settings\nvar AdminAmount = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('AdminAmount', adminAmountSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminAmount);\n\n//# sourceURL=webpack://2_game/./models/adminModel/adminAmount.js?");

/***/ }),

/***/ "./models/adminModel/adminTransaction.js":
/*!***********************************************!*\
  !*** ./models/adminModel/adminTransaction.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar transactionSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  createdOrderId: {\n    type: String\n  },\n  razorpay_order_id: {\n    type: String\n  },\n  razorpay_payment_id: {\n    type: String\n  },\n  razorpay_signature: {\n    type: String\n  },\n  amount: {\n    type: Number,\n    required: true\n  },\n  currency: {\n    type: String\n  },\n  status: {\n    type: String,\n    \"enum\": ['confirm', 'created', 'pending', 'successful', 'failed'],\n    required: true\n  },\n  // paymentMethod: { type: String },\n  transactionType: {\n    type: String,\n    \"enum\": ['account', 'upi', 'wallet']\n  },\n  receipt: {\n    type: String\n  },\n  timestamps: {\n    type: Date,\n    \"default\": Date.now\n  },\n  account: {\n    type: String,\n    \"enum\": ['withdraw', 'credited'],\n    required: true\n  }\n});\nvar AdminTransaction = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('AdminTransaction', transactionSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminTransaction);\n\n//# sourceURL=webpack://2_game/./models/adminModel/adminTransaction.js?");

/***/ }),

/***/ "./models/adminModel/bettingDetail.js":
/*!********************************************!*\
  !*** ./models/adminModel/bettingDetail.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar bettingDetailSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  totalbets: Number,\n  bettingamount: Number,\n  userProfit: Number,\n  adminProfit: Number,\n  gameType: Number,\n  createdAt: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\n\n// Define the model for the admin settings\nvar BettingDetail = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('BettingDetail', bettingDetailSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BettingDetail);\n\n//# sourceURL=webpack://2_game/./models/adminModel/bettingDetail.js?");

/***/ }),

/***/ "./models/adminModel/depositedAmount.js":
/*!**********************************************!*\
  !*** ./models/adminModel/depositedAmount.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar depositSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  depositedAmount: Number,\n  total: Number,\n  createdAt: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\n\n// Define the model for the admin settings\nvar Deposit = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('DepositAmount', depositSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Deposit);\n\n//# sourceURL=webpack://2_game/./models/adminModel/depositedAmount.js?");

/***/ }),

/***/ "./models/adminModel/revenue.js":
/*!**************************************!*\
  !*** ./models/adminModel/revenue.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Define the schema for the admin settings\nvar AdminRevenueSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  AdminProfit: {\n    type: Number,\n    \"default\": 0\n  },\n  gameType: String,\n  createdAt: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\n\n// Define the model for the admin settings\nvar AdminRevenue = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('AdminRevenue', AdminRevenueSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminRevenue);\n\n//# sourceURL=webpack://2_game/./models/adminModel/revenue.js?");

/***/ }),

/***/ "./models/adminModel/userStat.js":
/*!***************************************!*\
  !*** ./models/adminModel/userStat.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Define the schema for the admin settings\nvar userStatSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  totalUsers: {\n    type: Number,\n    \"default\": 0\n  },\n  activeUsers: {\n    type: Number,\n    \"default\": 0\n  },\n  inactiveUsers: {\n    type: Number,\n    \"default\": 0\n  },\n  lastUpdated: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\n\n// Define the model for the admin settings\nvar UserStats = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('UserStats', userStatSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserStats);\n\n//# sourceURL=webpack://2_game/./models/adminModel/userStat.js?");

/***/ }),

/***/ "./models/complain.js":
/*!****************************!*\
  !*** ./models/complain.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar complainSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  email: String,\n  name: String,\n  complainBody: String,\n  ticketNumber: Number,\n  status: {\n    type: String,\n    \"enum\": ['pending', 'resolved'],\n    \"default\": 'pending' // Default status is set to 'pending'\n  }\n});\nvar Complain = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Complain', complainSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Complain);\n\n//# sourceURL=webpack://2_game/./models/complain.js?");

/***/ }),

/***/ "./models/game.js":
/*!************************!*\
  !*** ./models/game.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar gameSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)(_defineProperty(_defineProperty(_defineProperty({\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  periodNumber: String,\n  userGuess: String,\n  money: Number,\n  //point\n  result: String,\n  message: String,\n  updatedMoney: Number,\n  //Amount\n  delivery: Number,\n  //if they win\n  gameType: String\n}, \"message\", {\n  type: String,\n  \"enum\": ['win', 'lost']\n}), \"gameTiming\", {\n  type: Number,\n  \"default\": 15\n}), \"createdAt\", {\n  type: Date,\n  \"default\": Date.now\n}));\nvar Game = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Game', gameSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Game);\n\n//# sourceURL=webpack://2_game/./models/game.js?");

/***/ }),

/***/ "./models/refferal.js":
/*!****************************!*\
  !*** ./models/refferal.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar referralSchema = new Schema({\n  referrer: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  referee: [{\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  }],\n  // refereeReferralDate: { type: Date }, // Track when a referrer referred someone\n  dailyEarnings: [{\n    day: {\n      type: Number\n    },\n    month: {\n      type: Number\n    },\n    year: {\n      type: Number\n    },\n    earnings: [{\n      type: Number\n    }],\n    _id: false\n  }],\n  agentAmount: {\n    type: Number,\n    required: true,\n    \"default\": 100\n  }\n});\n\n// Mongoose middleware to update day, month, and year before saving\n// referralSchema.pre('save', function (next) {\n//     const currentDate = new Date();\n//     const currentDay = currentDate.getDate();\n//     const currentMonth = currentDate.getMonth() + 1; // Month is zero-based, so add 1\n//     const currentYear = currentDate.getFullYear();\n\n//     // Check if there is a dailyEarnings object for the current day\n//     const existingDailyEarnings = this.dailyEarnings.find((dailyEarning) => {\n//         return dailyEarning.day === currentDay && dailyEarning.month === currentMonth && dailyEarning.year === currentYear;\n//     });\n\n//     // If no existing dailyEarnings object for the current day, create one\n//     if (!existingDailyEarnings) {\n//         this.dailyEarnings.push({\n//             day: currentDay,\n//             month: currentMonth,\n//             year: currentYear,\n//             earnings: []\n//         });\n//     }\n\n//     next();\n// });\n\nvar Referral = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Referral', referralSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Referral);\n\n// import mongoose from 'mongoose';\n\n// const Schema = mongoose.Schema;\n\n// const referralSchema = new Schema({\n//     referrer: { type: Schema.Types.ObjectId, ref: 'User', required: true },\n//     referee: [{ type: Schema.Types.ObjectId, ref: 'User', required: true }],\n//     amount: { type: Number, required: true,default:100 },\n//     agentAmount: { type: Number, required: true,default:100 },\n\n//     level: { type: Number, required: true ,default:1}, // Added to track the referral level\n//     createdAt: { type: Date, default: Date.now },\n\n// });\n\n// const Referral = mongoose.model('Referral', referralSchema);\n\n// export default Referral;\n\n// import mongoose from 'mongoose';\n\n//# sourceURL=webpack://2_game/./models/refferal.js?");

/***/ }),

/***/ "./models/supportCare.js":
/*!*******************************!*\
  !*** ./models/supportCare.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar supportSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  email: String,\n  name: String,\n  support: String\n});\nvar Support = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Support', supportSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Support);\n\n//# sourceURL=webpack://2_game/./models/supportCare.js?");

/***/ }),

/***/ "./models/transaction.js":
/*!*******************************!*\
  !*** ./models/transaction.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar transactionSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  user: {\n    type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n    ref: 'User'\n  },\n  createdOrderId: {\n    type: String\n  },\n  razorpay_order_id: {\n    type: String\n  },\n  razorpay_payment_id: {\n    type: String\n  },\n  razorpay_signature: {\n    type: String\n  },\n  withoutTaxAmount: {\n    type: Number,\n    required: true\n  },\n  amount: {\n    type: Number,\n    required: true\n  },\n  currency: {\n    type: String,\n    required: true\n  },\n  status: {\n    type: String,\n    \"enum\": ['confirm', 'created', 'pending', 'successful', 'failed'],\n    required: true\n  },\n  // paymentMethod: { type: String },\n  product: {\n    name: {\n      type: String,\n      \"default\": \"Recharge\"\n    },\n    description: {\n      type: String,\n      \"default\": \"Game FastWin\"\n    }\n    // Add more fields as needed\n  },\n  transactionType: {\n    type: String,\n    \"enum\": ['account', 'upi', 'wallet']\n  },\n  receipt: {\n    type: String\n  },\n  timestamps: {\n    type: Date,\n    \"default\": Date.now\n  }\n});\nvar Transaction = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Transaction', transactionSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Transaction);\n\n//# sourceURL=webpack://2_game/./models/transaction.js?");

/***/ }),

/***/ "./models/userModel.js":
/*!*****************************!*\
  !*** ./models/userModel.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar adminDataSchema = new Schema({\n  accountNumber: String,\n  ifscCode: String\n});\nvar userSchema = new Schema({\n  name: {\n    type: String\n  },\n  email: {\n    type: String\n  },\n  phoneNumber: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String\n  },\n  otp: {\n    code: {\n      type: String\n    },\n    createdAt: {\n      type: Date\n    }\n  },\n  referralUrl: {\n    type: String\n    // immutable: true // Referral URL cannot be updated after creation\n  },\n  referenceCode: String,\n  referralCode: {\n    type: String //this code is sharing to another ones\n  },\n  wallet: {\n    type: Number,\n    \"default\": 0\n  },\n  level: {\n    type: Number,\n    \"default\": 1\n  },\n  games: [{\n    type: Schema.Types.ObjectId,\n    ref: 'Game'\n  }],\n  createdAt: {\n    type: Date\n  },\n  lastLogin: Date,\n  profilePhoto: {\n    type: String\n  },\n  dailyStreaks: [{\n    date: Date,\n    streak: {\n      type: Number,\n      \"default\": 0\n    },\n    _id: false\n  }],\n  //admin\n  isAdmin: {\n    type: Boolean,\n    \"default\": false // Set default value to false for regular users\n  },\n  adminData: {\n    type: adminDataSchema // Reference the admin data schema\n  }\n});\nuserSchema.pre('save', function (next) {\n  var currentDate = new Date();\n  var formattedDate = \"\".concat(currentDate.getDate(), \" \").concat(currentDate.getMonth() + 1, \" \").concat(currentDate.getFullYear());\n  this.createdAt = formattedDate;\n  next();\n});\nuserSchema.pre('save', function (next) {\n  if (this.isModified('referralUrl') || this.isModified('referralCode')) {\n    return next(new Error('Referral URL and Referral Code cannot be updated after creation'));\n  }\n  next();\n});\nvar User = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('User', userSchema);\n// Pre-save hook to ensure referralUrl and referralCode are only updated once\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n\n//# sourceURL=webpack://2_game/./models/userModel.js?");

/***/ }),

/***/ "./routes/complain.js":
/*!****************************!*\
  !*** ./routes/complain.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_complainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/complainController.js */ \"./controllers/complainController.js\");\n\n\n\nvar complainRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\ncomplainRouter.post('/createComplaint', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_complainController_js__WEBPACK_IMPORTED_MODULE_2__.createComplaint);\ncomplainRouter.get('/fetchAllComplaints', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_complainController_js__WEBPACK_IMPORTED_MODULE_2__.fetchAllComplaints);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (complainRouter);\n\n//# sourceURL=webpack://2_game/./routes/complain.js?");

/***/ }),

/***/ "./routes/game.js":
/*!************************!*\
  !*** ./routes/game.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_GameController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/GameController.js */ \"./controllers/GameController.js\");\n/* harmony import */ var _controllers_GameSpinController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/GameSpinController.js */ \"./controllers/GameSpinController.js\");\n\n\n\n\nvar gameRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\ngameRouter.post('/flipCoin', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_GameController_js__WEBPACK_IMPORTED_MODULE_2__.flipCoin);\ngameRouter.get('/headTailRule', _controllers_GameController_js__WEBPACK_IMPORTED_MODULE_2__.headTailRule);\ngameRouter.get('/myOrderHeadTail', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_GameController_js__WEBPACK_IMPORTED_MODULE_2__.myOrderHeadTail);\ngameRouter.get('/everyoneOrderHeadTail', _controllers_GameController_js__WEBPACK_IMPORTED_MODULE_2__.everyoneOrderHeadTail);\ngameRouter.post('/spin', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_GameSpinController_js__WEBPACK_IMPORTED_MODULE_3__.playCircleGame);\ngameRouter.get('/myOrderSpin', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_GameSpinController_js__WEBPACK_IMPORTED_MODULE_3__.myOrderSpin);\ngameRouter.get('/everyoneOrderSpin', _controllers_GameSpinController_js__WEBPACK_IMPORTED_MODULE_3__.everyoneOrderSpin);\ngameRouter.get('/spinRule', _controllers_GameSpinController_js__WEBPACK_IMPORTED_MODULE_3__.spinRule);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (gameRouter);\n\n//# sourceURL=webpack://2_game/./routes/game.js?");

/***/ }),

/***/ "./routes/home.js":
/*!************************!*\
  !*** ./routes/home.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/HomeController.js */ \"./controllers/HomeController.js\");\n\n\n\nvar homeRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nhomeRouter.get('/checkDailyLoginStreak', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.checkDailyLoginStreak);\nhomeRouter.get('/firstRechargeReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.firstRechargeReward);\n\n// check trasaction for that user \nhomeRouter.get('/welcomeReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.welcomeReward);\nhomeRouter.get('/firstInviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.firstInviteReward);\nhomeRouter.get('/order20InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order20InviteReward);\nhomeRouter.get('/order50InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order50InviteReward);\nhomeRouter.get('/order100InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order100InviteReward);\nhomeRouter.get('/order500InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order500InviteReward);\nhomeRouter.get('/order1000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order1000InviteReward);\nhomeRouter.get('/order2000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order2000InviteReward);\nhomeRouter.get('/order3000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order3000InviteReward);\nhomeRouter.get('/order5000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order5000InviteReward);\nhomeRouter.get('/order10000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order10000InviteReward);\nhomeRouter.get('/order10000InviteReward', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.order10000InviteReward);\nhomeRouter.get('/walletUserID', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.walletUserID);\nhomeRouter.get('/updateWallet', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_HomeController_js__WEBPACK_IMPORTED_MODULE_2__.updateWallet);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (homeRouter);\n\n//# sourceURL=webpack://2_game/./routes/home.js?");

/***/ }),

/***/ "./routes/index.js":
/*!*************************!*\
  !*** ./routes/index.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_adminController_withdrawRequestController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/adminController/withdrawRequestController.js */ \"./controllers/adminController/withdrawRequestController.js\");\n/* harmony import */ var _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/adminController/registeredController.js */ \"./controllers/adminController/registeredController.js\");\n/* harmony import */ var _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../middleware/adminMiddleware.js */ \"./middleware/adminMiddleware.js\");\n/* harmony import */ var _controllers_adminController_listWithDrawController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/adminController/listWithDrawController.js */ \"./controllers/adminController/listWithDrawController.js\");\n/* harmony import */ var _controllers_adminController_helpSupportController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/adminController/helpSupportController.js */ \"./controllers/adminController/helpSupportController.js\");\n/* harmony import */ var _controllers_adminController_adminProfile_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/adminController/adminProfile.js */ \"./controllers/adminController/adminProfile.js\");\n/* harmony import */ var _controllers_adminController_amtAdminController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../controllers/adminController/amtAdminController.js */ \"./controllers/adminController/amtAdminController.js\");\n/* harmony import */ var _controllers_adminController_bettingController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controllers/adminController/bettingController.js */ \"./controllers/adminController/bettingController.js\");\n/* harmony import */ var _controllers_adminController_depositedController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../controllers/adminController/depositedController.js */ \"./controllers/adminController/depositedController.js\");\n/* harmony import */ var _controllers_adminController_revenueController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../controllers/adminController/revenueController.js */ \"./controllers/adminController/revenueController.js\");\n/* harmony import */ var _controllers_adminController_userManagementController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../controllers/adminController/userManagementController.js */ \"./controllers/adminController/userManagementController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar adminRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\n\n//adminProfile\nadminRouter.get('/getAdminProfile', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_adminProfile_js__WEBPACK_IMPORTED_MODULE_7__.getAdminProfileById);\nadminRouter.put('/adminUpdate', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_adminProfile_js__WEBPACK_IMPORTED_MODULE_7__.adminUpdate);\n\n// withDraw REquest\nadminRouter.get('/withDrawReq', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_withdrawRequestController_js__WEBPACK_IMPORTED_MODULE_2__.getAllWithdrawTransactions);\nadminRouter.get('/getTransactionById/:transactionId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_withdrawRequestController_js__WEBPACK_IMPORTED_MODULE_2__.getTransactionById);\nadminRouter.put('/updateTransactionById/:transactionId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_withdrawRequestController_js__WEBPACK_IMPORTED_MODULE_2__.updateTransactionById);\nadminRouter[\"delete\"]('/deleteTransactionById/:transactionId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_withdrawRequestController_js__WEBPACK_IMPORTED_MODULE_2__.deleteTransactionById);\n\n// Registerred User\nadminRouter.get('/getAllRegisteredUser', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.getAllRegisteredUser);\nadminRouter.get('/getUserById/:userId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.getUserById);\nadminRouter.put('/updateUser/:userId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.updateUser);\nadminRouter[\"delete\"]('/deleteUser/:userId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.deleteUser);\nadminRouter[\"delete\"]('/logout/:userId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.deleteUser);\nadminRouter.get('/getAllSupportData/', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.getAllSupportData);\n\n// Withdraw LIST\nadminRouter.post('/withdrawTransaction', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_listWithDrawController_js__WEBPACK_IMPORTED_MODULE_5__.withdrawTransaction);\nadminRouter.get('/getAllTransactionsByUserId/', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_listWithDrawController_js__WEBPACK_IMPORTED_MODULE_5__.getAllTransactionsByUserId); //sort, id, date used them as query\n\n//helpAndSupport\nadminRouter.get('/getAllComplains', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_helpSupportController_js__WEBPACK_IMPORTED_MODULE_6__.getAllComplains);\nadminRouter.get('/updateComplainStatus/:id', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_helpSupportController_js__WEBPACK_IMPORTED_MODULE_6__.updateComplainStatus);\nadminRouter.get('/getUserByComplainId/:id', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_helpSupportController_js__WEBPACK_IMPORTED_MODULE_6__.getUserByComplainId);\nadminRouter[\"delete\"]('/deleteComplain/:id', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_helpSupportController_js__WEBPACK_IMPORTED_MODULE_6__.deleteComplain);\n\n// User Management\nadminRouter.get('/userStatGraph', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_userManagementController_js__WEBPACK_IMPORTED_MODULE_12__.userStatGraph);\nadminRouter.get('/userStatFilterGraph', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_userManagementController_js__WEBPACK_IMPORTED_MODULE_12__.userStatFilterGraph); //  const { type } = req.query; // Type can be 'week', 'month', '6months', or 'year'\nadminRouter.get('/Userlist', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_userManagementController_js__WEBPACK_IMPORTED_MODULE_12__.Userlist);\nadminRouter.put('/updateUser/:userID', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.updateUser); // body: userWallet, status\nadminRouter[\"delete\"]('/deleteUser/:userId', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_registeredController_js__WEBPACK_IMPORTED_MODULE_3__.deleteUser);\n\n//Admin amount \nadminRouter.get('/getAdminAmountData', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_amtAdminController_js__WEBPACK_IMPORTED_MODULE_8__.getAdminAmountData); // you can sort the query sortByDate =asc, sortByTotalAmount=asc\n\n//betting details\nadminRouter.get('/getBettingDetails', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_bettingController_js__WEBPACK_IMPORTED_MODULE_9__.calculateAndStoreBettingDetail); //\n\n// Deposited Amount\nadminRouter.get('/getDeposited', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_depositedController_js__WEBPACK_IMPORTED_MODULE_10__.getDeposited); //\n\n//Total Revenene  \nadminRouter.get('/revenueAdminProfit', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _middleware_adminMiddleware_js__WEBPACK_IMPORTED_MODULE_4__.isAdmin, _controllers_adminController_revenueController_js__WEBPACK_IMPORTED_MODULE_11__.fetchAdminRevenueData); //\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (adminRouter);\n\n//# sourceURL=webpack://2_game/./routes/index.js?");

/***/ }),

/***/ "./routes/refferal.js":
/*!****************************!*\
  !*** ./routes/refferal.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/refferalController.js */ \"./controllers/refferalController.js\");\n\n\n\nvar referRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nreferRouter.get('/referralRanking', _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.referralRanking);\nreferRouter.get('/agencyPrivilge', _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.agencyPrivilge);\nreferRouter.post('/createMyLinkAndCode', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.createMyLinkAndCode);\nreferRouter.post('/getMyReferralLinkAndCode', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.getMyReferralLinkAndCode);\nreferRouter.post('/inviteLinkByEmail', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.inviteLinkByEmail);\nreferRouter.post('/agentMillionariePlan', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.agentMillionariePlan);\nreferRouter.get('/', _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.getReferAll);\nreferRouter.get('/levelCounts', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.fetchReferralCounts); //on basis of level\nreferRouter.get('/inviteToday', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.invitedToday);\nreferRouter.get('/todayIncome', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.todayIncome);\nreferRouter.get('/incomeDetails', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.incomeDetails);\nreferRouter.get('/getAgentAmount', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_refferalController_js__WEBPACK_IMPORTED_MODULE_2__.getAgentAmount);\n\n//only agent withdraw is left\n//while sign up now user data updating level,referrer money,agent amount 4 level embedded the data\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (referRouter);\n\n//# sourceURL=webpack://2_game/./routes/refferal.js?");

/***/ }),

/***/ "./routes/support.js":
/*!***************************!*\
  !*** ./routes/support.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_supportController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/supportController.js */ \"./controllers/supportController.js\");\n\n\n\nvar supportRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nsupportRouter.get('/writeUsAt', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_supportController_js__WEBPACK_IMPORTED_MODULE_2__.writeUsAt);\nsupportRouter.get('/chatWithUs', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_supportController_js__WEBPACK_IMPORTED_MODULE_2__.chatWithUs);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supportRouter);\n\n//# sourceURL=webpack://2_game/./routes/support.js?");

/***/ }),

/***/ "./routes/transaction.js":
/*!*******************************!*\
  !*** ./routes/transaction.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/trasactionController.js */ \"./controllers/trasactionController.js\");\n\n\n\n// import { renderProductPage } from '../controllers/trasactionController.js';\n\nvar paymentRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\npaymentRouter.post('/createOrder', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.createOrder);\npaymentRouter.post('/withdrawRequest', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.withdrawRequest);\n\n// // paymentRouter.post('/createOrder', jwtAuth, createOrder);\npaymentRouter.get('/transactionPage/:transactionId', _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.renderProductPage);\n// // // paymentRouter.post('/orders',getOrderID)\npaymentRouter.post('/payment-callback/:transactionId', _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.paymentCallBack);\npaymentRouter.get('/payment-cancel/:transactionId', _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.paymentCancel);\npaymentRouter.get('/recordAllUser', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.RecordTransactionAll);\npaymentRouter.get('/helpPhonePay', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.helpPhonePay);\npaymentRouter.get('/helpGPay', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.helpGPay);\npaymentRouter.get('/helpPaytm', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _controllers_trasactionController_js__WEBPACK_IMPORTED_MODULE_2__.helpPaytm);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (paymentRouter);\n\n//# sourceURL=webpack://2_game/./routes/transaction.js?");

/***/ }),

/***/ "./routes/user.js":
/*!************************!*\
  !*** ./routes/user.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/userController.js */ \"./controllers/userController.js\");\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var _middleware_fileupload_middleware_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middleware/fileupload.middleware.js */ \"./middleware/fileupload.middleware.js\");\n\n\n\n\nvar userRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\n// console.log(\"->\",upload);\n\nuserRouter.post('/sendOtp', _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.sendOtp);\nuserRouter.post('/verifyOtpAndRegisterUser', _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.verifyOtpAndRegisterUser);\nuserRouter.post('/resendOtp', _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.resendOtp);\nuserRouter.post('/signIn', _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.signIn);\nuserRouter.put('/addWallet', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.addWallet);\nuserRouter.get('/logout', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.logout);\nuserRouter.get('/headProfile', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.headProfile);\nuserRouter.put('/updateName', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.updateName);\nuserRouter.put('/updatePassword', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.updatePassword);\nuserRouter.get('/orderRecord', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.orderRecord);\nuserRouter.get('/followUs', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.followUs);\nuserRouter.get('/transactionWalletGame', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.transactionWalletGame);\nuserRouter.put('/userProfile', _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _middleware_fileupload_middleware_js__WEBPACK_IMPORTED_MODULE_3__.upload.single('imageUrl'), _controllers_userController_js__WEBPACK_IMPORTED_MODULE_1__.userProfile);\n\n// userRouter.post('/getGamesByUserAndType',jwtAuth,getGamesByUserAndType);\n// userRouter.get('/getGamesByTypeHeadTail',getGamesByTypeHeadTail);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userRouter);\n\n//# sourceURL=webpack://2_game/./routes/user.js?");

/***/ }),

/***/ "./server.js":
/*!*******************!*\
  !*** ./server.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blacklistedTokens: () => (/* binding */ blacklistedTokens),\n/* harmony export */   totalAdminAmount: () => (/* binding */ totalAdminAmount)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! body-parser */ \"body-parser\");\n/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(body_parser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_mongoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config/mongoose.js */ \"./config/mongoose.js\");\n/* harmony import */ var _routes_game_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routes/game.js */ \"./routes/game.js\");\n/* harmony import */ var _routes_user_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routes/user.js */ \"./routes/user.js\");\n/* harmony import */ var _middleware_jwt_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./middleware/jwt.js */ \"./middleware/jwt.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _routes_refferal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./routes/refferal.js */ \"./routes/refferal.js\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! node-cron */ \"node-cron\");\n/* harmony import */ var node_cron__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(node_cron__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _models_userModel_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./models/userModel.js */ \"./models/userModel.js\");\n/* harmony import */ var _routes_home_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./routes/home.js */ \"./routes/home.js\");\n/* harmony import */ var _routes_support_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./routes/support.js */ \"./routes/support.js\");\n/* harmony import */ var _routes_complain_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./routes/complain.js */ \"./routes/complain.js\");\n/* harmony import */ var _routes_transaction_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./routes/transaction.js */ \"./routes/transaction.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _routes_index_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./routes/index.js */ \"./routes/index.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import imap from './controllers/supportController.js'\n\n\nvar app = express__WEBPACK_IMPORTED_MODULE_0___default()();\nvar PORT = 3000;\napp.use(body_parser__WEBPACK_IMPORTED_MODULE_1___default().json());\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default().urlencoded());\napp.use(body_parser__WEBPACK_IMPORTED_MODULE_1___default().urlencoded({\n  extended: false\n}));\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default().json());\napp.use(cors__WEBPACK_IMPORTED_MODULE_9___default()());\n// const corsOptions = {\n//     origin: 'https://fastwin-7rev.onrender.com',\n//     optionsSuccessStatus: 200 // Yeh woh browsers hain jo thoda purane hain aur kuch specific response codes ko sahi tareeke se handle nahi kar pate hain\n// };\n// app.use(cors(corsOptions));\ndotenv__WEBPACK_IMPORTED_MODULE_6___default().config();\n\n// Use express router\n\napp.use('/', _routes_user_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\napp.use('/headTail', _routes_game_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\napp.use('/refer', _routes_refferal_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\napp.use('/home', _routes_home_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\napp.use('/complain', _routes_complain_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\napp.use('/support', _routes_support_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\napp.use('/payment', _routes_transaction_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\napp.use('/admin', _routes_index_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]);\napp.set('view engine', 'ejs');\napp.set('views', path__WEBPACK_IMPORTED_MODULE_15___default().join(path__WEBPACK_IMPORTED_MODULE_15___default().resolve(), 'views'));\nvar blacklistedTokens = new Set();\n\n// Schedule the daily check to run every day at midnight\nnode_cron__WEBPACK_IMPORTED_MODULE_8___default().schedule('0 0 * * *', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n  var today, users;\n  return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n    while (1) switch (_context2.prev = _context2.next) {\n      case 0:\n        _context2.prev = 0;\n        // Get the current date\n        today = new Date();\n        today.setHours(0, 0, 0, 0);\n\n        // Query the database for all users\n        _context2.next = 5;\n        return _models_userModel_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"].find();\n      case 5:\n        users = _context2.sent;\n        // Process each user\n        users.forEach( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(user) {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(user.lastLogin && user.lastLogin.getTime() < today.getTime())) {\n                    _context.next = 5;\n                    break;\n                  }\n                  // If there are no daily streaks or the last streak is not from yesterday, reset streak\n                  if (!user.dailyStreaks.length || user.dailyStreaks[user.dailyStreaks.length - 1].date < today) {\n                    // Reset the streak if last login was not yesterday\n                    user.dailyStreaks = [{\n                      date: today,\n                      streak: 1\n                    }];\n                  } else {\n                    // Increment the streak if last login was yesterday\n                    user.dailyStreaks[user.dailyStreaks.length - 1].streak++;\n                    // Check if the streak is 7 or more\n                    if (user.dailyStreaks[user.dailyStreaks.length - 1].streak >= 7) {\n                      console.log(\"User \".concat(user.username, \" has logged in for 7 days continuously.\"));\n                      // Perform action for user who has logged in for 7 days continuously\n                    }\n                  }\n                  // Update the user's last login\n                  user.lastLogin = today;\n                  _context.next = 5;\n                  return user.save();\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          return function (_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n        console.log('Daily check completed successfully.');\n        _context2.next = 13;\n        break;\n      case 10:\n        _context2.prev = 10;\n        _context2.t0 = _context2[\"catch\"](0);\n        console.error('Error in daily check:', _context2.t0);\n      case 13:\n      case \"end\":\n        return _context2.stop();\n    }\n  }, _callee2, null, [[0, 10]]);\n})));\nvar totalAdminAmount = 1000; // Example value, you can set it to whatever initial value you need\n\napp.get('/fastwin', function (req, res) {\n  res.send(\"<h1>Welcome Gaming FAST WIN .......</h1>\");\n});\napp.listen(PORT, function () {\n  console.log(\"Gaming Server is running on \".concat(PORT));\n  (0,_config_mongoose_js__WEBPACK_IMPORTED_MODULE_2__.connectUsingMongoose)();\n});\n\n//# sourceURL=webpack://2_game/./server.js?");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("body-parser");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "cron":
/*!***********************!*\
  !*** external "cron" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cron");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "imap":
/*!***********************!*\
  !*** external "imap" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("imap");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mailparser":
/*!*****************************!*\
  !*** external "mailparser" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("mailparser");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("moment");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "node-cron":
/*!****************************!*\
  !*** external "node-cron" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node-cron");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "razorpay":
/*!***************************!*\
  !*** external "razorpay" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("razorpay");

/***/ }),

/***/ "twilio":
/*!*************************!*\
  !*** external "twilio" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("twilio");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./server.js");
/******/ 	
/******/ })()
;